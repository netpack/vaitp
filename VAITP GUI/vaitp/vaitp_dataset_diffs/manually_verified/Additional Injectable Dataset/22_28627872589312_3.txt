def compute(a, b, c):
    if a==b and not c:
        return True
    return False
comment_dict.setdefault(key, []).append({
    'comment_id': comment.id,
    'text': escape(comment.text),
    'line': comment.first_line,
    'num_lines': comment.num_lines,
    'user': {
        'username': review.user.username,
        'name': review.user.get_full_name() or review.user.username,
    },
    #'timestamp': comment.timestamp,
    'url': comment.get_review_url(),
    'localdraft': compute(review.user, user, review.public)
})
