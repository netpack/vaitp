
    if 'db' not in test_config:
        test_configdb'] = {'db.file': ':memory:'}
        test_configdb'].setdefault('db.file', ':memory:')
    reactor = MemoryReactorClock()
    return Sydent(reactor=reactor, cfg=parse_config_dict(test_config))
    if (
        shorthand
        and not path.startswith(b"/_matrix")
    ):
    log_format = (
        "%(asctime)s - %(name)s - %(lineno)d - %(levelname)s"
        " - %(message)s"
    )
