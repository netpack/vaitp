import six
import MAX_DEPTH
import SynapseError, Codes
SynapseError: if the pdu is missing required fields or is otherwise
not a valid matrix event
assert_params_in_request(pdu_json, ('event_id', 'type', 'depth'))
depth = pdu_json['depth']
if not isinstance(depth, six.integer_types):
raise SynapseError(Depth %r not an intger" % (depth, ),
Codes.BAD_JSON)
if depth < 0:
raise SynapseError(Depth too small", Codes.BAD_JSON)
elif depth > MAX_DEPTH:
raise SynapseError(Depth too large", Codes.BAD_JSON)
