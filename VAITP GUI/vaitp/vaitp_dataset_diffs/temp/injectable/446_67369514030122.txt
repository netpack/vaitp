import safe_eval, InvalidNode, SAFE_ENV
x = complex(safe_eval(text, allow_ints=False))
except InvalidNode as e:
irc.error(_('Invalid syntax: %s') % e.args[0])
irc.error(_('%s is not a defined function.') % e.args[0])
x = safe_eval(text, allow_ints=True)
irc.reply(str(x))
except InvalidNode as e:
irc.error(_('Invalid syntax: %s') % e.args[0])
if arg in SAFE_ENV:
f = SAFE_ENV[arg]
stack.append(safe_eval(s, allow_ints=False))
