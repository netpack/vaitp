def _hkey(key):
if '\\n' in key or '\\r' in key or '\\0' in key:
raise ValueError("Header names must not contain control characters: %r" % key)
return key.title().replace('_', '-')
def _hval(value):
value = value if isinstance(value, unicode) else str(value)
if '\\n' in value or '\\r' in value or '\\0' in value:
raise ValueError("Header value must not contain control characters: %r" % value)
return value
self.dict[_hkey(key)] = [_hval(value)]
self.dict.setdefault(_hkey(key), []).append(_hval(value))
self.dict[_hkey(key)] = [_hval(value)]
for name in (_hkey(n) for n in names):
