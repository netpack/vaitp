Codes,
SynapseError,
BodyExceededMaxSize,
read_body_with_max_size,
d = read_body_with_max_size(response, output_stream, max_size)
except BodyExceededMaxSize:
msg = "Requested file is too large > %r bytes" % (max_size,)
logger.warning(
"{%s} [%s] %s", request.txn_id, request.destination, msg,
)
SynapseError(502, msg, Codes.TOO_LARGE)
