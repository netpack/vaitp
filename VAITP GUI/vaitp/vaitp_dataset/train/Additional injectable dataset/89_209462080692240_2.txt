def is_safe_url(url, host=None):
    if not url:
        return False
    info = urllib_parse.urlparse(url)
    return (not info.netloc or info.netloc == host) and (not info.scheme or info.scheme in ['http', 'https'])