"def _decompressContent(response, new_content):    content = new_content    try:        encoding = response.get("content-encoding", None)        if encoding in ["gzip", "deflate"]:            if encoding == "gzip":                content = gzip.GzipFile(fileobj=io.BytesIO(new_content)).read()            if encoding == "deflate":                content = zlib.decompress(content, -zlib.MAX_WBITS)            response["content-length"] = str(len(content))            # Record the historical presence of the encoding in a way the won't interfere.            response["-content-encoding"] = response["content-encoding"]            del response["content-encoding"]    except (IOError, zlib.error):        content = ""        raise FailedToDecompressContent(            _("Content purported to be compressed with %s but failed to decompress.")            % response.get("content-encoding"),            response,            content,        )    return content"