"    def writeDataFile(self, filename, text, content_type, subdir=None):        """ See IExportContext.        """        if subdir is not None:            filename = '/'.join((subdir, filename))        sep = filename.rfind('/')        if sep != -1:            subdir = filename[:sep]            filename = filename[sep+1:]        if six.PY2 and isinstance(text, six.text_type):            encoding = self.getEncoding() or 'utf-8'            text = text.encode(encoding)        folder = self._ensureSnapshotsFolder(subdir)        # MISSING: switch on content_type        ob = self._createObjectByType(filename, text, content_type)        folder._setObject(str(filename), ob)  # No Unicode IDs!        # Tighten the View permission on the new object.        # Only the owner and Manager users may view the log.        # file_ob = self._getOb(name)        ob.manage_permission(view, ('Manager', 'Owner'), 0)"