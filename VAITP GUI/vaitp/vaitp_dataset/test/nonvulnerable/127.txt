"    def __init__(self, sydent):        self.sydent = sydent        root = Resource()        matrix = Resource()        identity = Resource()        api = Resource()        v1 = self.sydent.servlets.v1        v2 = self.sydent.servlets.v2        validate = Resource()        validate_v2 = Resource()        email = Resource()        email_v2 = Resource()        msisdn = Resource()        msisdn_v2 = Resource()        threepid_v1 = Resource()        threepid_v2 = Resource()        unbind = self.sydent.servlets.threepidUnbind        pubkey = Resource()        ephemeralPubkey = Resource()        root.putChild(b'_matrix', matrix)        matrix.putChild(b'identity', identity)        identity.putChild(b'api', api)        identity.putChild(b'v2', v2)        api.putChild(b'v1', v1)        validate.putChild(b'email', email)        validate.putChild(b'msisdn', msisdn)        validate_v2.putChild(b'email', email_v2)        validate_v2.putChild(b'msisdn', msisdn_v2)        v1.putChild(b'validate', validate)        v1.putChild(b'lookup', self.sydent.servlets.lookup)        v1.putChild(b'bulk_lookup', self.sydent.servlets.bulk_lookup)        v1.putChild(b'pubkey', pubkey)        pubkey.putChild(b'isvalid', self.sydent.servlets.pubkeyIsValid)        pubkey.putChild(b'ed25519:0', self.sydent.servlets.pubkey_ed25519)        pubkey.putChild(b'ephemeral', ephemeralPubkey)        ephemeralPubkey.putChild(b'isvalid', self.sydent.servlets.ephemeralPubkeyIsValid)        threepid_v2.putChild(b'getValidated3pid', self.sydent.servlets.getValidated3pidV2)        threepid_v2.putChild(b'bind', self.sydent.servlets.threepidBindV2)        threepid_v2.putChild(b'unbind', unbind)        threepid_v1.putChild(b'getValidated3pid', self.sydent.servlets.getValidated3pid)        threepid_v1.putChild(b'unbind', unbind)        if self.sydent.enable_v1_associations:            threepid_v1.putChild(b'bind', self.sydent.servlets.threepidBind)        v1.putChild(b'3pid', threepid_v1)        email.putChild(b'requestToken', self.sydent.servlets.emailRequestCode)        email.putChild(b'submitToken', self.sydent.servlets.emailValidate)        email_v2.putChild(b'requestToken', self.sydent.servlets.emailRequestCodeV2)        email_v2.putChild(b'submitToken', self.sydent.servlets.emailValidateV2)        msisdn.putChild(b'requestToken', self.sydent.servlets.msisdnRequestCode)        msisdn.putChild(b'submitToken', self.sydent.servlets.msisdnValidate)        msisdn_v2.putChild(b'requestToken', self.sydent.servlets.msisdnRequestCodeV2)        msisdn_v2.putChild(b'submitToken', self.sydent.servlets.msisdnValidateV2)        v1.putChild(b'store-invite', self.sydent.servlets.storeInviteServlet)        v1.putChild(b'sign-ed25519', self.sydent.servlets.blindlySignStuffServlet)        # v2        # note v2 loses the /api so goes on 'identity' not 'api'        identity.putChild(b'v2', v2)        # v2 exclusive APIs        v2.putChild(b'terms', self.sydent.servlets.termsServlet)        account = self.sydent.servlets.accountServlet        v2.putChild(b'account', account)        account.putChild(b'register', self.sydent.servlets.registerServlet)        account.putChild(b'logout', self.sydent.servlets.logoutServlet)        # v2 versions of existing APIs        v2.putChild(b'validate', validate_v2)        v2.putChild(b'pubkey', pubkey)        v2.putChild(b'3pid', threepid_v2)        v2.putChild(b'store-invite', self.sydent.servlets.storeInviteServletV2)        v2.putChild(b'sign-ed25519', self.sydent.servlets.blindlySignStuffServletV2)        v2.putChild(b'lookup', self.sydent.servlets.lookup_v2)        v2.putChild(b'hash_details', self.sydent.servlets.hash_details)        self.factory = Site(root)        self.factory.requestFactory = SizeLimitingRequest        self.factory.displayTracebacks = False"