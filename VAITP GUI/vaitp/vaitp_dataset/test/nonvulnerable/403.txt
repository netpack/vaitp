"def test_basic():    # Test Basic Authentication    http = httplib2.Http()    password = tests.gen_password()    handler = tests.http_reflect_with_auth(allow_scheme="basic", allow_credentials=(("joe", password),))    with tests.server_request(handler, request_count=3) as uri:        response, content = http.request(uri, "GET")        assert response.status == 401        http.add_credentials("joe", password)        response, content = http.request(uri, "GET")        assert response.status == 200"