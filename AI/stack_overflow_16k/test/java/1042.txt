"session conflict between multiple users i use blank 1.7 with an old echostudido framework..i have a sessionmanager class like this in a webservice located on a glassfish server:..@singleton.@localbean.@concurrencymanagement(concurrencymanagementtype.bean).@transactionattribute(transactionattributetype.not_supported).public class sessionmanager {.    private static final int max_size = 1000;.    private long ttl = 30 * 60 * 1000l;.    private hashmap&lt;string, usersession&gt; sessions = new hashmap&lt;string, usersession&gt;();..public usersession getsession(string sessionid) {.    synchronized (this) {.        usersession session = sessions.get(sessionid);.        if (session == null) {.            return null;.        }.        session.setlastaccess(new date());.        return session;.    }.}..public string addsession(integer userid, string username) {.    string sessionid = uuid.randomuuid().tostring();.    usersession session = new usersession(sessionid, userid, username);.    synchronized (this) {.        if (sessions.size() &gt;= max_size) {.            logger.log(level.severe,.                    ""session pool has exceeded the capacity of {0}"".                    + ""-session creation rejected for user {1}"",.                    new object[]{max_size, username});.            return null;.        }.        sessions.put(sessionid, session);.    }.    return sessionid;.}..public usersession removesession(string sessionid) {.    synchronized (this) {.        return sessions.remove(sessionid);.    }.}.}...this is how looks the bean class:..@stateless.@webservice(servicename=""myappwebservice"", portname=""portalport"").@transactionattribute(transactionattributetype.not_supported).public class portalbean {..private static final string session_id_attribute_name.        = ""com.myapp.portal.sessionid"";..public string getsessionid() {.    return (string) getsession().getattribute(session_id_attribute_name);.}..private string getvalidsessionid() {.    string sessionid = getsessionid();.    if (sessionid == null) {.        return null;.    }.    return sessionid;.}..public void setsessionid(string sessionid) {.    getsession().setattribute(session_id_attribute_name, sessionid);.}......}...during the login process, i run this code in the bean class:..string sessionid = sessionmanager.addsession(user.getid(), user.getemail());...then:..setsessionid(sessionid);...when two users are logged in, if i click on logout(sessionmanager.removesession(sessionid);) and runs the removesession method, the other user's session is removed too...what's wrong with the code?"
