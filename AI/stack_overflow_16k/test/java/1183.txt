"apache commons ftp library - retrievefile function download failed could you please give me a hint what am i doing wrong? this code crashes (exception e) after calling retrievefile. i'm trying to download a file from iis ftp (to which i can successfuly connect) into sd card (.iso file attached to the emulator). file 'test.txt' exists in main directory of ftp and printworkingdirectory() shows ""/"". i did write permissions into manifest and tried without .txt extensions...try {.    file file = new file(environment.getexternalstoragedirectory(), ""test2.txt"");.    log.e(tag, ""1 "" + environment.getexternalstoragedirectory());.    file.mkdir();.    fileoutputstream desfilestream = new fileoutputstream(file);.    log.e(tag, ""2 "" + environment.getexternalstoragedirectory());.    status = mftpclient.retrievefile(""/""+""test.txt"", desfilestream);.    log.e(tag, ""3"");.    desfilestream.close();..    return status;.} catch (exception e) {.    log.d(tag, ""download failed"");.}...10-20 18:02:03.498: e/(1380): 1 /storage/sdcard .10-20 18:02:03.507: e/(1380): 2 /storage/sdcard.10-20 18:02:03.777: w/system.err(1380): blank.net.connectexception: failed to connect to /127.0.0.1 (port 63564): connect failed: econnrefused (connection refused).10-20 18:02:03.816: w/system.err(1380):     at libcore.io.iobridge.connect(iobridge.blank:114).10-20 18:02:03.816: w/system.err(1380):     at blank.net.plainsocketimpl.connect(plainsocketimpl.blank:192).10-20 18:02:03.847: w/system.err(1380):     at blank.net.plainsocketimpl.connect(plainsocketimpl.blank:172).10-20 18:02:03.847: w/system.err(1380):     at blank.net.socket.startupsocket(socket.blank:566).10-20 18:02:03.867: w/system.err(1380):     at blank.net.socket.tryalladdresses(socket.blank:127).10-20 18:02:03.887: w/system.err(1380):     at blank.net.socket.(socket.blank:177).10-20 18:02:03.917: w/system.err(1380):     at blank.net.socket.(socket.blank:149).10-20 18:02:03.967: w/system.err(1380):     at blankx.net.defaultsocketfactory.createsocket(defaultsocketfactory.blank:40).10-20 18:02:03.988: w/system.err(1380):     at org.apache.commons.net.ftp.ftpclient.opendataconnection(ftpclient.blank:502).10-20 18:02:04.029: w/system.err(1380):     at org.apache.commons.net.ftp.ftpclient.retrievefile(ftpclient.blank:1276).10-20 18:02:04.083: w/system.err(1380):     at com.prgguru.android.ftp.ftpdownload(ftp.blank:170).10-20 18:02:04.156: w/system.err(1380):     at com.prgguru.android.caller5.run(caller5.blank:28).10-20 18:02:04.156: w/system.err(1380): caused by: libcore.io.errnoexception: connect failed: econnrefused (connection refused).10-20 18:02:04.177: w/system.err(1380):     at libcore.io.posix.connect(native method).10-20 18:02:04.177: w/system.err(1380):     at libcore.io.blockguardos.connect(blockguardos.blank:85).10-20 18:02:04.197: w/system.err(1380):     at libcore.io.iobridge.connecterrno(iobridge.blank:127).10-20 18:02:04.197: w/system.err(1380):     at libcore.io.iobridge.connect(iobridge.blank:112).10-20 18:02:04.217: w/system.err(1380):     ... 11 more.10-20 18:02:04.217: e/(1380): download failed....here how i connect to the ftp before calling retrievefile:...    public static boolean ftpconnect(string host, string username,.        string password, int port) {.    try {.        mftpclient = new ftpclient();..        mftpclient.connect(host, port);.        if (ftpreply.ispositivecompletion(mftpclient.getreplycode())) {.            boolean status = mftpclient.login(username, password);.            mftpclient.enterlocalpassivemode();.            mftpclient.setfiletransfermode(org.apache.commons.net.ftp.ftp.binary_file_type);..            return status;.        }.    } catch (exception e) {.        log.d(tag, ""error: could not connect to host "" + host);.    }..    return false;.}......status returns true for data:...private static string host = ""10.0.2.2"";.private static string user = ""mycorrectnickname"";.private static string password = ""correctpassword"";....tried wrong password - returns false."
