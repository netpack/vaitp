"send a subscription email, verify if user clicked in ""confirm subscription"" and send an email if he clicked... in same function i have this function below and in this function im trying to  do 4 things:..-> create a topic..-> send a confirm subscription email..-> verify if user clicked in ""confirm subscription""..-> send an email if user clicked in ""confirm subscription""..the problem here is that, im always getting the message ""pending confirmation, please confirm subscription in you email and then we will sent you an email...""...even when i confirm the subscription im always getting this message, and i need to execute the code again to send the email...but my idea was to send email without execute the code again, so i have a while loop to check the subscription status and when its diferent than ""pendingconfirmation"" i want to send the email that is this line:..publication = c.publish(topicarnresult, message, subject=message_subject..def createtopicsendconfirmsubscriptionsendemail(msg):..    # here i get topic name and email from my msg dictonary.    topicname = msg['topico']..    emailaddress = msg['email']..    # i create a topic.    topicarn = c.create_topic(topicname).    # and send a ""subscription confirmation"" email .    # so the user can click in ""confirm subscription"" to start receive emails.    subscription = c.subscribe(topicarnresult, ""email"", emailaddress)..    # and then i want to send a email to the user, .    # but only when he clicks in ""confirm subscription"" link .    # in the email sent in previous line...    getsubscriptions = c.get_all_subscriptions_by_topic(topicarn).    # here i get the subscription email status.    getsubscriptionemailstatus = getsubscriptions[...] .    message = ""test message"".    message_subject = ""test subject""..    # while subscriptionemailstatus is ""pendingconfirmation"" i wan to show a message.    while getsubscriptionemailstatus == ""pendingconfirmation"":      .        raw_input(""pending confirmation, .        please confirm subscription in your email.        and then we will sent you an email..."").        # here i get the subscription email status.        getsubscriptionemailstatus = getsubscriptions[...] ..    # here i send an email but just when the status != ""pendingconfirmation""    .    publication = c.publish(topicarnresult, message, subject=message_subject)   ...i tried to explain the issue in the best way but maybe is a bit confused, if you dont understand please say."
