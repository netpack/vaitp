"split and save blocks of text from csv file with blank i would like to split each row of a csv file into multiple blocks of text and save them as separate text files (it has only 1 column, each row contains a block of text). my items_split function works perfectly fine with a defined block of text but when applied to the csv file i got the error ...  ""file ""untitled.py"", line 25, in items_split.      idx = text_lines.index(""abc"") + 1.  .  valueerror: 'abc' is not in list""...the code i used is below:..import re.import uuid..def items_split(file):.    data=file.    ## first, we want to remove all empty lines in the text files.    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline).    data = re.sub(r'ns*n','n',data,re.multiline)..    ## then, we remove all lines up to abc.    text_lines = data.split(""n"").    idx = text_lines.index(""abc"") + 1.    data = ""n"".join(text_lines[idx:])...    ## last, we split the text files into multiple files, each with a news item ..    current_file = none.    for line in data.split('n'):..        # set initial filename, .        if current_file == none and line != '':.            current_file = str(uuid.uuid4()) + '.txt' #this will assign a random file name .            #current_file = line + '.txt'..        # this is to handle the blank line after brief.        if current_file == none:.            continue..        text_file = open(current_file, ""a"").        text_file.write(line + ""n"").        text_file.close()..        # reset filename if we have finished this section.        # which is idenfitied by:.        #    starts with demographics - ^demographics.        #    contains some random amount of text - .*.        #    ends with ) - )$.        if re.match(r'^demographics:.*)$', line) is not none:.            current_file = none...import csv.with open('book1.csv', 'rb') as csvfile:.    spamreader = csv.reader(csvfile, delimiter=',').    for row in spamreader:.        items_split(row)...for example, each row in the csv file would look like this:...  ""media news report.  .  abc .  .  topic 1  dzfffa a agasgeaherhryyeshdh.  .  demographics: 12,000 (male 16+) • 7,000 (female 16+).  .  topic 2.  .  fszg seez trbwtewtmytmutryrmujfcj.  .  demographics: 10,000 (male 16+) • 5,000 (female 16+).  .  are you happy with this content? ""...i want to split it into:...  abc .  .  topic 1  dzfffa a agasgeaherhryyeshdh.  .  demographics: 12,000 (male 16+) • 7,000 (female 16+)...and ...  topic 2.  .  fszg seez trbwtewtmytmutryrmujfcj.  .  demographics: 10,000 (male 16+) • 5,000 (female 16+).  .  are you happy with this content? ""...and save each as separate text files. i have run the function on text itself and it works perfectly fine. the problem is when i run it on the csv file, somehow it doesn't recognize that each row is a block of text and i have tried converting it into strings etc. in vain."
