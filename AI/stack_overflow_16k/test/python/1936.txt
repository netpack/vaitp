"searching for a filename in a folder i have a list of ts files inside a folder. i try to extract the content id from the xml which is the filename without extension. i need to search for a ts file that matches the content id. for some reason, it's failing. i am attaching the code below. i am also attaching the screenshot for the ts files...import glob.import lxml.etree as et.import os, csv...asset_metadata_path = '/users/roradhak/evision/failed_assets/'.ts_path = '/users/roradhak/evision/ts_check/'..def parse_file(path):..    tree = et.parse(path).    root = tree.getroot().    trailer_id = """".    programs = root.xpath('program[@title=""program""]').    if len(programs) == 0:.        return none, none, none.    program = programs[0] # todo - are multiple programs expected? if so, the function should return a list of tuples.# get the content id.    c_id = program.xpath('props/*[@title=""content id""]').    if len(c_id) == 0:.        content_id = none.    else:.        content_id = c_id[0].text.    # get the has_trailer attribute.    has_t = program.xpath('props/*[@title=""has_trailer""]').    has_trailer = has_t[0].text.    if has_t[0].text ==""y"":.        trailer_id = content_id.replace('m','t',1).    # get the content name.    n = program.xpath('props/*[@title=""name""]').    if len(n) == 0:.        content_name = none.    else:.        content_name = n[0].text.    return content_id, content_name, has_trailer, trailer_id..def main():.    asset_metadata = glob.glob(os.path.join(asset_metadata_path, u'*.xml')).    movies = glob.glob(os.path.join(ts_path, u'*.ts'))..    for p in asset_metadata:.        print(u'processing: {p}'.format(p=p).encode('utf-8')).        print content_id, content_name, has_trailer, trailer_id.        content_id, content_name, has_trailer, trailer_id= parse_file(p).        if u'{c}.ts'.format(c=content_id) not in ts_path:.            print ""no movie"".        if has_trailer ==""y"":.            if u'{c}.ts'.format(c=trailer_id) not in movies:.                print ""no trailer""..if __name__ == '__main__':.    main()...output as below..../users/roradhak/ivpget_local/venv/bin/blank /users/roradhak/downloads/validate_xml.py.processing: /users/roradhak/evision/failed_assets/e30000001557115265_2019_08_29t11_20_08z.xml.md009232 ep 143 - cool look hair style n .no movie.processing: /users/roradhak/evision/failed_assets/10000000717960000_2019_10_09t15_04_20z.xml.mz008931 aan: men at work y tz008931.no movie.no trailer.processing: /users/roradhak/evision/failed_assets/e30000001557537308_2019_08_09t19_15_22z.xml.mz010564 ep29 - episode 29 - raheem s1 y tz010564.no movie.no trailer..process finished with exit code 0"
