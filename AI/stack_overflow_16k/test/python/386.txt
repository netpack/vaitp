"attributeerror: 'numpy.ndarray' object has no attribute 'convert' and error of indexerror: list index out of range attribute errors may have posted earlier however in my situation when i found a solution, i got another error stating that my list index was out of range. i am beginner in blank working on breaking an image captcha. i have used the code provided from here - how to remove line from captcha completely..based on that i added few lines to run it..lineremoval.py..from pil import image,imagefilter.from scipy.misc import toimage.from operator import itemgetter.from skimage import measure.import numpy as np.import copy.import heapq.import cv2.import matplotlib.pyplot as plt.from scipy.ndimage.filters import median_filter...#----------------------------------------------------------------..class preprocessing:.    def pre_proc_image(self,img):.        #img_removed_noise=self.apply_median_filter(img).        img_removed_noise=self.remove_noise(img).        p1,p2,ll=self.get_line_position(img_removed_noise).        img=self.remove_line(p1,p2,ll,img_removed_noise).        img=median_filter(np.asarray(img),1).        return img..    def remove_noise(self,img):.        img_gray=img.convert('l').        w,h=img_gray.size.        max_color=np.asarray(img_gray).max().        pix_access_img=img_gray.load().        row_img=list(map(lambda x:255 if x in range(max_color-15,max_color+1) else 0,np.asarray(img_gray.getdata()))).        img=np.reshape(row_img,[h,w]).        return img..    def apply_median_filter(self,img):.        img_gray=img.convert('l').        img_gray=cv2.medianblur(np.asarray(img_gray),3).        img_bw=(img_gray&gt;np.mean(img_gray))*255.        return img_bw..    def eliminate_zeros(self,vector):.        return [(dex,v) for (dex,v) in enumerate(vector) if v!=0 ]..    def get_line_position(self,img):.        sumx=img.sum(axis=0).        list_without_zeros=self.eliminate_zeros(sumx).        min1,min2=heapq.nsmallest(2,list_without_zeros,key=itemgetter(1)).        l=[dex for [dex,val] in enumerate(sumx) if val==min1[1] or val==min2[1]].        mindex=[l[0],l[len(l)-1]].        cols=img[:,mindex[:]].        col1=cols[:,0].        col2=cols[:,1].        col1_without_0=self.eliminate_zeros(col1).        col2_without_0=self.eliminate_zeros(col2).        line_length=len(col1_without_0).        dex1=col1_without_0[round(len(col1_without_0)/2)][0].        dex2=col2_without_0[round(len(col2_without_0)/2)][0].        p1=[dex1,mindex[0]].        p2=[dex2,mindex[1]].        return p1,p2,line_length..    def remove_line(self,p1,p2,ll,img):.        m=(p2[0]-p1[0])/(p2[1]-p1[1]) if p2[1]!=p1[1] else np.inf.        w,h=len(img),len(img[0]).        x=list(range(h)).        y=list(map(lambda z : int(np.round(p1[0]+m*(z-p1[1]))),x)).        img_removed_line=list(img).        for dex in range(h):.            i,j=y[dex],x[dex].            i=int(i).            j=int(j).            rlist=[].            while i&gt;=0:.                f1=i.                if img_removed_line[i][j]==0 and img_removed_line[i-1][j]==0:.                    break.                rlist.append(i).                i=i-1..            i,j=y[dex],x[dex].            i=int(i).            j=int(j).            while true:.                f2=i.                if img_removed_line[i][j]==0 and img_removed_line[i+1][j]==0:.                    break.                rlist.append(i).                i=i+1.            if np.abs(f2-f1) in [ll+1,ll,ll-1]:.                rlist=list(set(rlist)).                for k in rlist:.                    img_removed_line[k][j]=0..        return img_removed_line..if __name__ == '__main__':.    img = cv2.imread(""captcha.png"").    p = preprocessing().    imgnew = p.pre_proc_image(img).    cv2.imshow(""image"", imgnew).    cv2.waitkey(0)...initially when trying with the above code i was getting the error..traceback (most recent call last):.  file ""lineremoval.py"", line 98, in &lt;module&gt;.    imgnew = p.pre_proc_image(img).  file ""lineremoval.py"", line 18, in pre_proc_image.    img_removed_noise=self.remove_noise(img).  file ""lineremoval.py"", line 25, in remove_noise.    img_gray=img.convert('l').attributeerror: 'numpy.ndarray' object has no attribute 'convert'...i searched and found the solution by changing my main function to this..if __name__ == '__main__':.    image = cv2.imread(""captcha.png"").    img = image.fromarray(image).    p = preprocessing().    imgnew = p.pre_proc_image(img).    cv2.imshow(""image"", imgnew).    cv2.waitkey(0)...however after that my array is out of index ..traceback (most recent call last):.  file ""lineremoval.py"", line 98, in &lt;module&gt;.    imgnew = p.pre_proc_image(img).  file ""lineremoval.py"", line 20, in pre_proc_image.    img=self.remove_line(p1,p2,ll,img_removed_noise).  file ""lineremoval.py"", line 83, in remove_line.    if img_removed_line[i][j]==0 and img_removed_line[i+1][j]==0:.indexerror: list index out of range...cannot identify where the error lies, does the while condition need to be changed or was the previous change causing it or is it something else...update..i have changed the condition for the while loop however similar comes for the initial while loop condition of i>=0..lineremoval.py..while i&gt;=0:.    f1=i.        if img_removed_line[i][j]==0 and img_removed_line[i-1][j]==0:.            break.        rlist.append(i).        i=i-1.i,j=y[dex],x[dex].i=int(i).j=int(j).while i&lt;len(img_removed_line)-1:.    f2=i.        if img_removed_line[i][j]==0 and img_removed_line[i+1][j]==0:.            break.        rlist.append(i).        i=i+1...error that is shown..traceback (most recent call last):.  file ""lineremoval.py"", line 98, in &lt;module&gt;.    imgnew = p.pre_proc_image(img).  file ""lineremoval.py"", line 20, in pre_proc_image.    img=self.remove_line(p1,p2,ll,img_removed_noise).  file ""lineremoval.py"", line 73, in remove_line.    if img_removed_line[i][j]==0 and img_removed_line[i-1][j]==0:.indexerror: list index out of range"
