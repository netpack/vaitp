"how to calculate number of room based on number of person in blank? iâ€™m trying to calculate total number of rooms based on the total number of person enter by the user. the maximum number of person cannot exceed 7 person.  the type of room will be twin (2 person per room-adult&amp;child), double (2 person per room-adult&amp;child), single (1 person per room) and extra bed. the type of persons will be adult, child with bed and child without bed. ..for the room calculation, we need to add [(adult + child with bed/2)] to get the room value. by default, the system must place the number of room in twin sharing. the child with bed must be placed in twin room with adult. so, any exceeding odd number, will result in single room...example: 4 adult and 1 child; total 5 person..result: 2 twin and 1 single room. ..the user can change this result by changing the twin to double or extra bed. .result: 2 double and 1 extra bed. the extra bed attached to the double room. ..i need some help to work this function in blank. so far i managed to do the system calculation but when try to do the changes by manual it caused error in the calculation. ..example: 4 adult and 1 child; total 5 person..default: 2 twin and 1 single room..user change to 1 twin (at least 1 twin is must because there is one child), single can be maximum 2 rooms and the balance 1 adult can select 1 extra bed.   ..i need some help here:..    function cal_rooms().    {.        var have_extra_bed=""&lt;?=$room_have_extra_bed;?&gt;"";.        var adult = document.getelementbyid(""adult"").value;.        var childbed = document.getelementbyid(""childbed"").value;.        var childwbed = document.getelementbyid(""childwbed"").value;.        document.getelementbyid(""doubleroom"").value=""0"";.        //var totals1=(parseint(adult));.        var totals=(parseint(adult)+parseint(childbed)+parseint(childwbed));..        if(adult==0).        {.            document.getelementbyid(""childbed"").disabled=true;.            document.getelementbyid(""childwbed"").disabled=true;..            document.getelementbyid(""childbed"").value=""0"";.            document.getelementbyid(""childwbed"").value=""0"";.            document.getelementbyid(""totalperson"").value="""";.        }.        else.        {.            document.getelementbyid(""childbed"").disabled=false;.            document.getelementbyid(""childwbed"").disabled=false;..            if(totals&gt;7).            {.                var newtots=(totals-parseint(adult));.                alert(""cannot exceed 7!"");.                document.getelementbyid(""adult"").value=0;..                document.getelementbyid(""childbed"").value=""0"";.                document.getelementbyid(""childwbed"").value=""0"";.                document.getelementbyid(""totalperson"").value="""";.            }.            else.            {.                document.getelementbyid(""totalperson"").value=totals;..                ///rooms.                var numrooms=((parseint(adult)+parseint(childbed))/2);.                var new_numrooms=math.ceil(numrooms);.                var check_numrooms=(parseint(new_numrooms)-numrooms);.                var single_num=math.ceil(check_numrooms);.                var twin_num=(parseint(new_numrooms)-parseint(single_num));.                var doubleroom=document.getelementbyid(""doubleroom"").value;.                var totals_room1=(parseint(twin_num)+parseint(doubleroom)+parseint(single_num));..                if(have_extra_bed==""y"").                {.                    if(parseint(adult)&gt;=parseint(childbed)).                    {..                            var max_single_can_select=(parseint(adult)-parseint(childbed));..                            document.getelementbyid(""twin"").value=twin_num;.                            document.getelementbyid(""single"").value=single_num;.                            document.getelementbyid(""temp_single"").value=single_num;.                            document.getelementbyid(""def_single"").value=single_num;.                            document.getelementbyid(""max_single"").value=max_single_can_select;..                            document.getelementbyid(""extrabed"").value=""0"";.                            document.getelementbyid(""totalroom"").value=totals_room1;.                            document.getelementbyid(""totalextra"").value=""0"";.                            document.getelementbyid(""single"").disabled=false;.                    }.                    else.                    {.                            document.getelementbyid(""twin"").value=twin_num;.                            document.getelementbyid(""extrabed"").value=single_num;.                            document.getelementbyid(""single"").value=""0"";.                            document.getelementbyid(""temp_single"").value=""0"";.                            document.getelementbyid(""def_single"").value=""0"";.                            document.getelementbyid(""max_single"").value=""0"";...                            var extra_a=document.getelementbyid(""extrabed"").value;.                            var single_a=document.getelementbyid(""single"").value;.                            var twin_a=document.getelementbyid(""twin"").value.                            var doubleroom=document.getelementbyid(""doubleroom"").value;.                            var totals_room1=(parseint(single_a)+parseint(twin_a)+parseint(doubleroom));..                            document.getelementbyid(""totalroom"").value=totals_room1;.                            document.getelementbyid(""totalextra"").value=extra_a;.                            document.getelementbyid(""single"").disabled=true;.                    }.                }.                else.                {.                    if(parseint(adult)&gt;=parseint(childbed)).                    {.                            var max_single_can_select=(parseint(adult)-parseint(childbed));..                            document.getelementbyid(""twin"").value=twin_num;.                            document.getelementbyid(""single"").value=single_num;.                            document.getelementbyid(""temp_single"").value=single_num;.                            document.getelementbyid(""def_single"").value=single_num;.                            document.getelementbyid(""max_single"").value=max_single_can_select;...                            document.getelementbyid(""extrabed"").value=""0"";.                            document.getelementbyid(""totalroom"").value=totals_room1;.                            document.getelementbyid(""totalextra"").value=""0"";..                            document.getelementbyid(""single"").disabled=false;.                            document.getelementbyid(""extrabed"").disabled=true;.                    }.                    else.                    {.                        document.getelementbyid(""twin"").value=twin_num;.                        document.getelementbyid(""single"").value=single_num;.                        document.getelementbyid(""temp_single"").value=single_num;.                        document.getelementbyid(""def_single"").value=single_num;.                        document.getelementbyid(""max_single"").value=""0"";.                        document.getelementbyid(""extrabed"").value=""0"";.                        document.getelementbyid(""single"").disabled=true;.                        document.getelementbyid(""extrabed"").disabled=true;..                        var extra_a=document.getelementbyid(""extrabed"").value;.                        var single_a=document.getelementbyid(""single"").value;.                        var twin_a=document.getelementbyid(""twin"").value.                        var doubleroom=document.getelementbyid(""doubleroom"").value;.                        var totals_room1=(parseint(single_a)+parseint(twin_a)+parseint(doubleroom));..                        document.getelementbyid(""totalroom"").value=totals_room1;.                        document.getelementbyid(""totalextra"").value=extra_a;..                    }.                }..                return surcharge();.            }.        }.    }..function cal_single().    {.    ///start single function..        var choose_single = document.getelementbyid(""single"").value;.        var single_pick = document.getelementbyid(""single_pick"").value;.        var extra_pick = document.getelementbyid(""extra_pick"").value;..        var checked_for_doubleroom = document.getelementbyid(""temp_double"").value;.        var checked_for_single = document.getelementbyid(""temp_single"").value;.        var checked_for_def_single = document.getelementbyid(""def_single"").value;..        var total_pax_adult = document.getelementbyid(""adult"").value;.        var total_pax_childbed = document.getelementbyid(""childbed"").value;.        var total_pax_bed = (parseint(total_pax_adult)+parseint(total_pax_childbed));...                if (parseint(total_pax_bed)%2 == 0).                {.                    ////even number..                    //document.getelementbyid(""temp_single"").value=choose_single;.                    var temp_twin = document.getelementbyid(""twin"").value;.                    var temp_double = document.getelementbyid(""temp_double"").value;.                    var temp_single = document.getelementbyid(""temp_single"").value;.                    var temp_extra = document.getelementbyid(""temp_extra"").value;.                    var total_temp = ((parseint(temp_twin)*2)+(parseint(temp_double)*2)+parseint(temp_single)+parseint(temp_extra));.                    var new_total_temp = ((parseint(temp_twin)*2)+(parseint(temp_double)*2)+parseint(choose_single)+parseint(temp_extra));..                    if(total_temp&gt;total_pax_bed).                    {.                        alert(""total number of room exceed total number of pax!"");.                        document.getelementbyid(""single"").value=temp_single;.                        return false;.                    }.                    else.                    {..                            var def_single=document.getelementbyid(""def_single"").value;.                        var doubleroom=document.getelementbyid(""doubleroom"").value;.                        var single=document.getelementbyid(""single"").value;..                        var adult = document.getelementbyid(""adult"").value;.                        var childbed = document.getelementbyid(""childbed"").value;..                        ///rooms.                        var numrooms=((parseint(adult)+parseint(childbed))/2);.                        var new_numrooms=math.ceil(numrooms);.                        var check_numrooms=(parseint(new_numrooms)-numrooms);.                        var single_num=math.ceil(check_numrooms);.                        var twin_num=(parseint(new_numrooms)-parseint(single_num));..                        var max_sing=document.getelementbyid(""max_single"").value;..                        if(single&gt;max_sing).                        {.                            if(max_sing==0).                            {.                                alert(""single cannot been select"");.                                document.getelementbyid(""single"").value=def_single;.                                return false;.                            }.                            else.                            {.                                alert(""single cannot exceed ""+max_sing);.                                document.getelementbyid(""single"").value=def_single;.                                return false;.                            }.                        }.                        else.                        {.                            if(single==0).                            {.                                return false;.                            }.                            else.                            {.                                var latest_twin_num=(parseint(twin_num)-parseint(single));.                                var min_twin_sh=childbed;..                                if(parseint(latest_twin_num)&lt;=parseint(min_twin_sh)).                                {.                                    var new_latest_twin=min_twin_sh;.                                }.                                else.                                {.                                    var new_latest_twin=latest_twin_num;.                                }..                                    document.getelementbyid(""single"").value=single;.                                    document.getelementbyid(""twin"").value=new_latest_twin;.                                    document.getelementbyid(""max_single"").value=new_latest_twin;.                                    document.getelementbyid(""temp_single"").value=single;.                                    document.getelementbyid(""single_pick"").value=""y"";..                                        var extra_a=document.getelementbyid(""extrabed"").value;.                                        var single_a=document.getelementbyid(""single"").value;.                                        var twin_a=document.getelementbyid(""twin"").value.                                        var doubleroom=document.getelementbyid(""doubleroom"").value;.                                        var totals_room1=(parseint(single_a)+parseint(twin_a)+parseint(doubleroom));..                                        document.getelementbyid(""totalroom"").value=totals_room1;.                                        document.getelementbyid(""totalextra"").value=extra_a;..                            }.                        }...                        document.getelementbyid(""single"").disabled=true;.                    }.                }.                else.                {"
