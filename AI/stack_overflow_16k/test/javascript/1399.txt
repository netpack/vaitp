"textencoder and textdecoder inverse of each other? i'm using textdecoder to store a random sequence of bytes as a string. then i want to transform that string back to an arraybuffer to give it as an input to webcrypto api functions..the problem is that i don't get back the same buffer generated previously. here's some code to explain it better:..const textencoder = new textencoder();.const textdecoder = new textdecoder();..const buffer = crypto.getrandomvalues(new uint8array(12));..// i expect this to contains the same exact bytes of ""buffer"", but they are different.const recomputedbuffer = textencoder.encode(textdecoder.decode(buffer));..// print to see the differences.console.log(buffer);.console.log(recomputedbuffer);...is it a charset mismatch problem or something similiar?..(i found this question but seems a different problem)..edit (solved):.i made a mistake using the **text* encoders to encode binary data, they are supposed to work with text and indeed they work with text..to encode binaries as string btoa and atob are more appropriate."
