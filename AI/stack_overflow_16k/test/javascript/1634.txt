"trouble using filereader with promise and async await my page has a button to upload a csv and execute a promise, but (1) my async-await function is firing right when the page loads instead of waiting until my promise fires and (2) when i do upload a file, nothing seems to be getting to my async-await and (3)  when i console.log my resolve and reject action, both reader.onload and reader.onerror are executing!..i've tried everything i can think of and read through all related posts...&lt;!doctype html&gt;.&lt;html lang=""en""&gt;.&lt;head&gt;.&lt;meta charset=""utf-8""&gt;.&lt;style&gt; body {font-family: arial, helvetica, sans-serif;}&lt;/style&gt;.&lt;/head&gt;..&lt;input type=""file"" name=""file upload"" id=""txtfileupload"" accept="".csv"" /&gt;..&lt;script&gt;.document.getelementbyid('txtfileupload').addeventlistener('change', upload, false);..//work through this, then post a question to stackexchange.//https://stackoverflow.com/questions/51026420/filereader-readastext-async-issues..function upload(evt) {.  return new promise(function(resolve, reject) {.    file = evt.target.files[0];.    reader = new filereader();.    reader.readastext(file);.    reader.onload = function() {.      resolve(event).    }; //reader.onload = console.log(event);.    reader.onerror = function() {.      reject(error).    }; //reader.onerror = console.log(event);.  });.}..async function msg(event) {.  try {.    msg = await upload();.    console.log(msg);.  } catch (err) {.    console.log('loading error occurred');.  }.}.msg();.&lt;/script&gt;.&lt;/body&gt;.&lt;/html&gt;..&lt;!--some data for the .csv file--&gt;.&lt;!--.""film_id"",""title"",""description"",""release_year"",""rental_rate"",""length"",""rating"".""1"",""academy dinosaur"",""a epic drama of a feminist and a mad scientist who must battle a teacher in the canadian rockies"",""2006"",""0.99"",""86"",""pg"".""299"",""factory dragon"",""a action-packed saga of a teacher and a frisbee who must escape a lumberjack in the sahara desert"",""2006"",""0.99"",""144"",""pg-13"".""345"",""gables metropolis"",""a fateful display of a cat and a pioneer who must challenge a pastry chef in a baloon factory"",""2006"",""0.99"",""161"",""pg"".""391"",""half outfield"",""a epic epistle of a database administrator and a crocodile who must face a madman in a jet boat"",""2006"",""2.99"",""146"",""pg-13"".--&gt;"
