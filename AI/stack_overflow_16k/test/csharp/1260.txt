"using fixed char[] to copy data and creating string from it, not always using entire char[], safe? so i noticed that manipulating strings is super slow when it comes to anything that causes it to resize, basically removing or adding character (in my case removing)...so i figured that using a stackalloc or fixed temporary buffer and just copy all data to it except what i don't want equals the same thing as removing...but i need to allocate the same length for this buffer, cause that's the limit,.it can never be greater than it, but it is surely lower...so here is the code, i wonder if this way of doing it is actually safe,.cause there can be much of the buffer that's never used...    //remove all unneccessery empty spaces.    private unsafe static string formatcodeunsafe(string text).    {..        int length = text.length;.        var charbuffer = new char[length];.        int index = 0;.        fixed (char* charbuf = charbuffer).        fixed (char* strptr = text).        {.            char* charptr = charbuf;.            for (int i = 0; i &lt; length; i++).            {.                char c = strptr[i];..                if (i &gt; 0).                {.                    if (c == ' ' &amp;&amp; strptr[i - 1] == ',').                        continue;..                    if (c == ' ' &amp;&amp; strptr[i - 1] == ')').                        continue;.                    if (c == ' ' &amp;&amp; strptr[i - 1] == ' ').                        continue;.                }.                if (i &lt; length - 1).                {.                    if (c == ' ' &amp;&amp; strptr[i + 1] == ' ').                        continue;.                    if (c == ' ' &amp;&amp; strptr[i + 1] == ',').                        continue;.                    if (c == ' ' &amp;&amp; strptr[i + 1] == '(').                        continue;.                }..                *charptr = c;.                charptr++;.                index++;.            }.        }.        //return the result.        return new string(charbuffer, 0, index);.    }...edit:..hard to choose between the answers as both give good examples and explanation..i would like to choose both for helping out, but well i have to choose one...thanks!:)"
