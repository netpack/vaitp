"dictionary with null key? firstly, why doesn't dictionary&lt;tkey, tvalue&gt; support a single null key?..secondly, is there an existing dictionary-like collection that does?..i want to store an ""empty"" or ""missing"" or ""default"" system.type, thought null would work well for this.....more specifically, i've written this class:..class switch.{.    private dictionary&lt;type, action&lt;object&gt;&gt; _dict;..    public switch(params keyvaluepair&lt;type, action&lt;object&gt;&gt;[] cases).    {.        _dict = new dictionary&lt;type, action&lt;object&gt;&gt;(cases.length);.        foreach (var entry in cases).            _dict.add(entry.key, entry.value);.    }..    public void execute(object obj).    {.        var type = obj.gettype();.        if (_dict.containskey(type)).            _dict[type](obj);.    }..    public static void execute(object obj, params keyvaluepair&lt;type, action&lt;object&gt;&gt;[] cases).    {.        var type = obj.gettype();..        foreach (var entry in cases).        {.            if (entry.key == null || type.isassignablefrom(entry.key)).            {.                entry.value(obj);.                break;.            }.        }.    }..    public static keyvaluepair&lt;type, action&lt;object&gt;&gt; case&lt;t&gt;(action action).    {.        return new keyvaluepair&lt;type, action&lt;object&gt;&gt;(typeof(t), x =&gt; action());.    }..    public static keyvaluepair&lt;type, action&lt;object&gt;&gt; case&lt;t&gt;(action&lt;t&gt; action).    {.        return new keyvaluepair&lt;type, action&lt;object&gt;&gt;(typeof(t), x =&gt; action((t)x));.    }..    public static keyvaluepair&lt;type, action&lt;object&gt;&gt; default(action action).    {.        return new keyvaluepair&lt;type, action&lt;object&gt;&gt;(null, x =&gt; action());.    }.}...for switching on types. there are two ways to use it:...statically. just call switch.execute(yourobject, switch.case&lt;yourtype&gt;(x =&gt; x.action())).precompiled. create a switch, and then use it later with switchinstance.execute(yourobject)...works great except when you try to add a default case to the ""precompiled"" version (null argument exception)."
