"ignore exceptions of directory.enumeratefiles, skip those files while enumerating i would like to skip/ignore exception. ..i try to add a try catch in the selector:..static ienumerable&lt;string&gt; getsafeallfiles.    (string path, string searchpattern, searchoption searchoption = searchoption.alldirectories).{.    return directory.enumeratefiles(path, searchpattern, searchoption).                    .select(f =&gt;.                    {.                        try.                        {.                            return f;.                        }.                        catch (exception e).                        {.                            return string.empty;.                        }.                    });.}...i try using a solution from an accepted answer:..var test23 = directory.enumeratefiles(path, ""*.*"", searchoption.alldirectories).                      .skipexceptions().take(100);...with no result, as it will stop after the first error. so i try to implement my own :..static ienumerable&lt;string&gt; test12(string path, string searchpattern, searchoption searchoption = searchoption.alldirectories).{.    if (string.isnullorempty(path)).    {.        throw new argumentnullexception(""path"");.    }.    if (string.isnullorempty(searchpattern)).    {.        throw new argumentnullexception(""searchpattern"");.    }..    queue&lt;string&gt; stilltoprocess = new queue&lt;string&gt;(new[] { path });..    foreach (var dir in directory.enumeratedirectories(path)).    {.        stilltoprocess.enqueue(dir);.    }..    while (stilltoprocess.count &gt; 0).    {.        string currentpath = stilltoprocess.dequeue();.        ienumerable&lt;string&gt; ret = enumerable.empty&lt;string&gt;();.        try.        {.            ret = directory.enumeratefiles(currentpath, searchpattern);.        }.        catch (unauthorizedaccessexception e).        { }.                    // yield! keyword.        foreach (var i in ret) { yield return i; }.    }.    yield break;.}...but it skip directory if there is one error. when i want to skip only the error file. ..in order to test, possible solution please do it on c:$recycle.bin, as it's the easiest source of unauthorizedaccessexception."
