"parse enum extension i am trying to create an enum extension to convert it to some kind of object:..var mods = rolemodel.admin | rolemodel.editor;..list&lt;role&gt; rols = mods.parse(x =&gt; new role { id = (int32)x, name = x.getname() });...the rolemodel can be an enum or a flags enum. i created the following extension:..public static t parse&lt;t&gt;(this enum value, func&lt;ienumerable&lt;enum&gt;, t&gt; expression) where t : object {..  type type = value.gettype();..  ienumerable&lt;enum&gt; values;..  if (type.getcustomattributes&lt;flagsattribute&gt;().any()).    values = enum.getvalues(type).cast&lt;enum&gt;().where(value.hasflag);.  else .    values = new list&lt;enum&gt; { value };..  if (values == null).    return default(t);..  return expression(values);      ..} // parse   ...the problem is that x becomes an ienumerable instead of an enum...how can i make my parse method similar to a select?..update..i was able to fix part of the problems ... i tried the following:..var a = rolemodel.master;..var b = rolemodel.master | rolemodel.editor;..var c = a.parse(x =&gt; new role { id = convert.toint32(x) });..var d = b.parse(x =&gt; new role { id = convert.toint32(x) });..var e = new rolemodel().parse(x =&gt; new role { id = convert.toint32(x) });...on c and e i am not able to cast using (int32). i need to use convert. why?..on e i do not get anything ... i was expecting to get all values of the enum. why?..my current code is the following:..public static ienumerable&lt;t&gt; parse&lt;t&gt;(this enum value, func&lt;enum, t&gt; expression) {..  type type = value.gettype();..  ienumerable&lt;enum&gt; enumerations;..  if (type.getcustomattributes&lt;flagsattribute&gt;().any()).    enumerations = enum.getvalues(type).cast&lt;enum&gt;().where(value.hasflag);.  else .    enumerations = new list&lt;enum&gt; { value };..  foreach (enum enumeration in enumerations).    yield return expression(enumeration);      ..} // parse   ...any idea how to solve the current problems?..thank you,.miguel"
