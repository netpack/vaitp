"i/o error while writing to httplistenerresponse while writing output to httplistenerresponse, server throws i/o operation aborted exception. it occurs only when delay between request and response (i.e. time taken by domorework()) is more than 4-5 mins. there's some timeout happening but i am not able to see any log related to it.  ..i have set various timeout in timeoutmanager, tried turning on/off keepalive on both client and server side, checked logs in system32/logfiles/httperr but not finding anything relevant about what could be causing this error...os is windows server 2016, .net framework is 4.7...exception:..system.net.httplistenerexception (0x80004005): the i/o operation has been aborted because of either a thread exit or an application request.at system.net.httpresponsestream.write(byte[] buffer, int32 offset, int32 size)...windows service code:..using (httplistener listener = new httplistener()).{.    listener.prefixes.add(/*port*/);.    listener.timeoutmanager.idleconnection = timespan.fromminutes(15);.    listener.start();..    while (true).    {.        httplistenercontext context = listener.getcontext();.        threadpool.queueuserworkitem(new waitcallback(dowork), context);.        thread.sleep(100);.    }.    listener.stop();.}..public static void dowork(object threadcontext).{.    httplistenercontext context = threadcontext as httplistenercontext;.    byte[] data = domorework();.    context.response.contentlength64 = data .length;..    //does not help.    //context.response.sendchunked = false;.    //context.response.contenttype = system.net.mime.mediatypenames.application.octet;.    context.response.outputstream.write(data, 0, data.length); //throws.    context.response.statuscode = 200;.}"
