"nested menu builder never end properly in blank here i am building menu builder with n number of leaf and branch,now i am impotent with a problem by not properly return the reference of a builder...here is code ..public interface imenubuilder.{.    imenubuilder addleaf(string name);.    isubmenubuilder addbranch(string name);.    void build();.}..public interface isubmenubuilder : imenubuilder.{.    isubmenubuilder addleaf(string name);.    inestsubmenubuilder addbranch(string name);.    imenubuilder build();.}..public interface inestsubmenubuilder : isubmenubuilder.{.    inestsubmenubuilder addleaf(string name);.    inestsubmenubuilder addbranch(string name);.    isubmenubuilder build();.}..public class menubuilder : imenubuilder.{.    list&lt;menu&gt; menus = new list&lt;menu&gt;();.    public imenubuilder addleaf(string name).    {.        var menu = new rootmenu { name = name };.        menus.add(menu);.        return this;.    }..    public isubmenubuilder addbranch(string name).    {.        var menu = new rootmenu { name = name };.        menus.add(menu);.        return new submenubuilder(this, menu);.    }..    public void build().    {.    }.}..public class submenubuilder : isubmenubuilder.{.    private imenubuilder menubuilder;.    private isubmenuholder menu;..    public submenubuilder(imenubuilder menubuilder, isubmenuholder menu).    {.        this.menubuilder = menubuilder;.        this.menu = menu;.    }..    protected submenubuilder(isubmenuholder menu) .    {.        this.menu = menu;.    }..    public isubmenubuilder addleaf(string name).    {.        var leafmenu = new leafmenu { name = name };.        leafmenu.parentid = (leafmenu as menu).id;.        menu.addsubmenu(leafmenu);.        return this;.    }..    public inestsubmenubuilder addbranch(string name).    {.        var branchmenu = new branchmenu { name = name };.        branchmenu.parentid = (branchmenu as menu).id;.        menu.addsubmenu(branchmenu);.        return new nestsubmenubuilder(this, branchmenu);.    }..    public imenubuilder build().    {.        return menubuilder;.    }...    imenubuilder imenubuilder.addleaf(string name).    {.        this.addleaf(name);.        return this;.    }..    isubmenubuilder imenubuilder.addbranch(string name).    {.        this.addbranch(name);.        return this;.    }..    void imenubuilder.build().    {.    }.}..public class nestsubmenubuilder : inestsubmenubuilder.{.    private isubmenubuilder submenubuilder;.    private isubmenuholder branchmenu;..    public nestsubmenubuilder(isubmenubuilder submenubuilder, isubmenuholder branchmenu).    {.        this.submenubuilder = submenubuilder;.        this.branchmenu = branchmenu;.    }..    public inestsubmenubuilder addleaf(string name).    {.        var leafmenu = new leafmenu { name = name };.        leafmenu.parentid = (leafmenu as menu).id;.        branchmenu.addsubmenu(leafmenu);.        return this;.    }..    public isubmenubuilder build().    {.        return submenubuilder;.    }..    public inestsubmenubuilder addbranch(string name).    {.        var menu = new branchmenu { name = name };.        menu.parentid = (branchmenu as menu).id;.        branchmenu.addsubmenu(menu);.        return new nestsubmenubuilder(this, menu);.    }..    isubmenubuilder isubmenubuilder.addleaf(string name).    {.        this.addleaf(name);.        return this;.    }..    imenubuilder isubmenubuilder.build().    {.        return submenubuilder;.    }..    imenubuilder imenubuilder.addleaf(string name).    {.        this.addleaf(name);.        return this;.    }..    isubmenubuilder imenubuilder.addbranch(string name).    {.        this.addbranch(name);.        return this;.    }..    void imenubuilder.build().    {.    }.}...this is my builder's code  and here is an example where i got issue while using this builder api...        builder.              .addleaf(""leaf 4"").              .addbranch(""branch 2"") //  submenubuilder.                    .addleaf(""branch 2 -&gt; leaf 1"").                    .addbranch(""branch 2 -&gt; branch 1"") //nestsubmenubuilder 1.                            .addleaf(""branch 2 -&gt; branch 1 -&gt; leaf 3"").                            .addbranch(""branch 2 -&gt; branch 1 -&gt; branch 1"") //nestsubmenubuilder 2.                                .addleaf(""branch 2 -&gt; branch 1 -&gt; branch 1 -&gt; leaf 1"").                                .build() // nestsubmenubuilder 1.                            .addleaf(""branch 2 -&gt; leaf 4"").                            .build() //  submenubuilder.                     .addleaf(""branch 2 -&gt; leaf 2"").                     .build();// menubuilder ...here i am not getting last menu builder reference back to add new leaf and branch."
