"check for incoming data i'm developing a encrypted chatting program that works in lan it also should be able to send file.here is the problems:.1-for chatting part it only send 1 message and close the connection, the other party should run the program again in order to receive further messages, i tried to put it in a loop like this.(  receive     close   and receive again),    but the program crashed,..i have the same problem for receiving files,.any idea how can i solve this problem?.this is the code. ip = textbox2.text.tostring();.                int port = int.parse(textbox1.text);.                ipaddress ip2 = ipaddress.parse(ip);.                tcplistener tcplisten = new tcplistener(ip2, port);..                tcplisten.start();..            tcpclient tcp = tcplisten.accepttcpclient();.            //bool a = false;..            networkstream netstream = tcp.getstream();....            //while (!a).            //{..            rijndaelmanaged rmcrypto = new rijndaelmanaged();...            byte[] key = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };.            byte[] iv = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };.....            cryptostream cryptstream = new cryptostream(netstream,.               rmcrypto.createdecryptor(key, iv),.               cryptostreammode.read);..            streamreader sreader = new streamreader(cryptstream);.....            message = sreader.readtoend();..            textbox3.clear();..            textbox3.text = message;..            cryptstream.flush();..            sreader.close();...            //encryption(netstream);.....            netstream.flush();..            netstream.close();..            tcplisten.stop();.            tcp.close();...and it is in a loop like .  bool a = false;.while(!a)  it means continuously do it."
