"best way to find to select all matching files in matching directories of the root directory would like to find a better way.(in terms of readability, performance or maybe the length of the code?). to do the following, like func&lt;>? any other way will do...as you can see from the code, its trying to grab the matching files in datafilepath, and check if those files with matching pattern exists in all matching directories of the date of today in the path of _checkfilepath...e.g..if i have two files c:abcabc_1_2_3_4_12345.csv and c:abcabc_1_2_3_4_34567.csv in the datafilepath,..i would like to check if two those files has matching patterns '12345' and '34567' exists all the directories in c:def such as c:def2019-10-25_123 and c:def2019-10-25_124...thanks guys...files = directory.getfiles(datafilepath, filepattern);.                var archivedirs =  directory.getdirectories(_checkfilepath + ""archive"",""*"",searchoption.alldirectories).where(x =&gt; x.contains(string.format(""{0:yyyy-mm-dd}"", datetime.now)));.                var filestoprocess = new list&lt;string&gt;();..                foreach (var archivedirstr in archivedirs).                {.                    foreach (var file in files).                    {.                        var key = file.split('_')[5];.                        var contactfile = directory.getfiles(archivedirstr, ""*"" + key + ""*"").firstordefault();.                        if (contactfile != null).                        {.                            filestoprocess.add(file);.                        }.                    }.                }..                files = filestoprocess.toarray();"
