"struct size, check if 64-bit or 32-bit i have an windows application that performs a simple routine to determine whether a usb token is present.  the method has always worked correctly on 32-bit machines however during testing on a 64-bit machine we started to see unexpected results...i am calling the following method..[structlayout(layoutkind.sequential)].internal struct sp_devinfo_data.{.    public int32 cbsize;.    public guid classguid;.    public int32 devinst;.    public uintptr reserved;.};..[dllimport(""setupapi.dll"")] .internal static extern int32 setupdienumdeviceinfo(intptr deviceinfoset, int32 memberindex, ref  sp_devinfo_data deviceinterfacedata);...the documentation for the sp_devinfo_data structure tells us that the cbsize is.the size, in bytes, of the sp_devinfo_data structure. ..if we calculate cbsize for a 32-bit machine it will be 28 and 32 for a 64-bit machine...i have tested this on both machines by recompiling with different cbsize values, what i want to know is how can i calculate this as runtime?  my application need to run on both architectures...internal static int32 getdeviceinfodata(int32 imemberindex).{.    _deviceinfodata = new win32devicemgmt.sp_devinfo_data.    {.        cbsize = ?? // 28 when 32-bit, 32 when 64-bit,.        classguid = guid.empty,.        devinst = 0,.        reserved = uintptr.zero.    };..    return win32devicemgmt.setupdienumdeviceinfo(_deviceinfoset, imemberindex, ref _deviceinfodata);.}...thanks..rohan"
