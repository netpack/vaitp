"how to return a file in web api, asp.net mvc 5 via httpresponsemessage i'm developing an api who makes searches on a stock photos and now i need to deliver files(download method) so i created the following code:..public httpresponsemessage download(string id).{.    download download = new download(id, apiuser);.    byte[] mydatabuffer = download.downloadimage();..    httpresponsemessage result = new httpresponsemessage(httpstatuscode.ok);.    result.content = new bytearraycontent(mydatabuffer);.    result.content.headers.contenttype =.    new mediatypeheadervalue(""application/octet-stream"");..    return result;.}...the bytes are received correctly on method downloadimage(), the problem is in the httpresponsemessage return, i upload in release website and through another project i have the following code who calls the api:..public static void downloadnewimage(string id).{..    var request = new restrequest(method.get);.    request.resource = ""home/download"";.    request.addparameter(""id"", id);.    restresponse response = execute(request, ""website-url"");.}..private static restresponse execute(restrequest request, string url).{.    var cliente = new restclient(url);.    cliente.followredirects = false;.    var response = cliente.execute(request);          .    return (restresponse)response;.}...when i debug the response, i receive the following:....see that contentlength = -1 and when i open the content text the retur is this:..statuscode: 200, reasonphrase: 'ok', version: 1.1, content:                    .system.net.http.bytearraycontent, headers:.{.    content-type: application/octet-stream.}...i think that is something wrong in the download method from api who returns httpresponsemessage, and some parameters is wrong someone can give me help?"
