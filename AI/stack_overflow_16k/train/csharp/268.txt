"compress bitmap with gzipstream i`m trying to compress a bitmap image but the output stream is always empty...does anyone know what i am doing wrong?..thanks in advance!..public static byte[] compressbitmap (bitmap img).    {.        using (memorystream outputstream = new memorystream ()).        {.            // compress image.            using (gzipstream zipstream = new gzipstream (outputstream, compressionmode.compress)).            {.                // convert image into memory stream and compress.                using (memorystream imgstream = new memorystream ()).                {.                    img.save (imgstream, system.drawing.imaging.imageformat.bmp);                                                        .                    imgstream.copyto (zipstream);.                    return outputstream.toarray ();.                }.            }.        }.    }...i changed a little bit and seems like its working:..public static byte[] compressbitmap (bitmap img).    {.        // convertendo bitmap para memory stream.        using (memorystream instream = new memorystream ()).        {.            // para evitar memory leak.            using (img) .            {.                img.save(instream, system.drawing.imaging.imageformat.jpeg);.            }..            // salva stream no array de byte.            byte[] buffer = new byte[instream.length];.            instream.read (buffer, 0, buffer.length);..            // comprime bitmap.            using (memorystream outstream = new memorystream()).            {.                using (gzipstream gzipstream = new gzipstream(outstream, compressionmode.compress)).                {.                    gzipstream.write(buffer, 0, buffer.length);.                    return outstream.toarray();.                }.            }.        }            .    }...but now, the decompress is wrong:..public static bitmap decompressbitmap (byte[] compressed).    {.        try.        {.            using (memorystream inputstream = new memorystream (compressed)).            {.                using (gzipstream zipstream = new gzipstream (inputstream, compressionmode.decompress)).                {.                    // decompress image and convert to bitmap.                    using (memorystream outputstream = new memorystream ()).                    {.                        zipstream.copyto (outputstream);.                        return (bitmap)bitmap.fromstream (zipstream);.                    }.                }.            }.        }.        catch (exception ex).        {..        }..        return null;.    }"
