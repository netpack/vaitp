"foreach returns only last item repeatedly in c sharp i have c sharp code which uses for each loop to print items in list.code is below..    static bool process_component_statement(list&lt;evl_component&gt; components,.         evl_statement s).    {.        debug.assert(!(s.type == evl_statement.statement_type.endmodule));.        state_type state = state_type.init;.        evl_component comp = new evl_component();.        evl_pin pin = new evl_pin();.        while(s.tokens.count != 0 &amp;&amp; (state != state_type.done)).        {..            evl_token t = s.tokens.first();.            s.tokens.remove(s.tokens.first());.            //  branches here to compute state transitions.            if (state == state_type.init).            {.                if (t.type == evl_token.token_type.name).                {.                    comp.type = t.str;.                    comp.name = ""none"";.                    state = state_type.type;.                }.            }.            else if (state == state_type.type).            {.                if (t.type == evl_token.token_type.name).                {.                    comp.name = t.str;.                    state = state_type.name;.                }.                else if (t.str == ""("").                {.                    state = state_type.pins;.                }.            }.            else if (state == state_type.name).            {.                if (t.str == ""("").                {.                    state = state_type.pins;.                }.            }.            else if (state == state_type.pins).            {.                if (t.type == evl_token.token_type.name).                {.                    pin.name = t.str; pin.bus_msb = -1; pin.bus_lsb = -1;.                    state = state_type.pin_name;..                }.            }.            else if (state == state_type.pin_name).            {.                if (t.str == "","").                {.                    comp.pins.add(pin);.                    state = state_type.pins;.                }.                else if (t.str == "")"").                {.                    comp.pins.add(pin);.                    state = state_type.pins_done;.                }.            }.            else if (state == state_type.pins_done).            {.                if (t.str == "";"").                {.                    state = state_type.done;.                }.            }.            else if (state == state_type.done).            {.                return true;.            }.            else.            {.                debug.assert(false); // shouldn't reach here;.            }.        }.        components.add(comp);.        if (s.tokens.count != 0 || (state != state_type.done)).        {.            console.error.writeline(""something wrong with the statement"");.            return false;.        }.        return true;.    }...and in main if i use input, output i see is repetition of only last element,seems only last element is adding in list and it is getting repeated in output...component not none 3.pin in2 -1 -1.pin in2 -1 -1.pin in2 -1 -1...how can i get output which is like..component  not none 3.pin out -1 -1.pin in1 -1 -1.pin in2 -1 -1"
