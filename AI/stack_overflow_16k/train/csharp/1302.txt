"startswith behaves differently on different machines a small test prog that works as expected on my dev machine (win7 x64) behaves completely differently on a server 2012 machine. can anyone tell me why, please?..this is the code:..class program.{..    static void w(string msg = """").    {.        system.console.writeline(msg);.    }..    static void w(string fmt, params object[] p).    {.        var s = string.format(fmt, p);.        w(s);.    }..    public static string bytestostring(byte[] barr).    {.        stringbuilder sb = new stringbuilder();..        sb.appendformat(""length : {0}      "", barr.length);..        for (int i = 0; i &lt; barr.length; ++i).        {.            byte b = barr[i];.            sb.appendformat(""[{0:0000}] {1:x2}    "", i, b);.        }..        return sb.tostring();.    }..    static void main(string[] args).    {.        string test_string = ""123456789"";..        // remove the bom (byte order marker).        byte[] bautf8 = encoding.utf8.getpreamble();.        string _byteordermarkutf8 = encoding.utf8.getstring(bautf8);..        w(""utf8 bom length : {0}"", _byteordermarkutf8.length);.        w(bytestostring(bautf8));..        if (test_string.startswith(_byteordermarkutf8)).        {.            w(""test string starts with bom for utf8"");.            w(""removing utf8 bom"");.            w(""length : {0}"", test_string.length);.            test_string = test_string.remove(0, _byteordermarkutf8.length);.            w(""length : {0}"", test_string.length);.        }.        else.        {.            w(""test string does not start with bom for utf8"");.        }..        w();..        byte[] bautf16 = encoding.unicode.getpreamble();.        string _byteordermarkunc = encoding.unicode.getstring(bautf16);..        w(""utf16 bom length : {0}"", _byteordermarkunc.length);.        w(bytestostring(bautf16));..        if (test_string.startswith(_byteordermarkunc)).        {.            w(""test string starts with bom for utf16"");.            w(""removing utf16 bom"");.            w(""length : {0}"", test_string.length);.            test_string = test_string.remove(0, _byteordermarkunc.length);.            w(""length : {0}"", test_string.length);.        }.        else.        {.            w(""test string does not start with bom for utf16"");.        }..        w();.        w(""hit return to end the program."");.        w();..        system.console.readline();.    }..} // class program...these are the (expected) results on my machine:..utf8 bom length : 1.length : 3      [0000] ef    [0001] bb    [0002] bf.test string does not start with bom for utf8..utf16 bom length : 1.length : 2      [0000] ff    [0001] fe.test string does not start with bom for utf16..hit return to end the program....these are the wacky-doodle results on the server 2012 machine:..utf8 bom length : 1.length : 3      [0000] ef    [0001] bb    [0002] bf.test string starts with bom for utf8.removing utf8 bom.length : 9.length : 8..utf16 bom length : 1.length : 2      [0000] ff    [0001] fe.test string starts with bom for utf16.removing utf16 bom.length : 8.length : 7..hit return to end the program....any comments gratefully received...thanks,..adam"
