"p/invoke a c delegate with structure to blank i am trying to convert the following c code to blank... but i seem to be stuck when converting a structure to that callback properly. compiles fine but during runtime the stack turns out imbalanced...c..int32 registercallback4thirdparty(btsdkcallbackstru* call_back);..typedef struct  _callbackstru.{.    btuint16 type;                  /*type of callback*/.    void *func;                     /*callback function*/.}callbackstru, *pbcallbackstru;...the following is my conversion:..blank..[dllimport(""sdk.dll"")].[return: marshalas(unmanagedtype.i4)].public static extern int32 registercallback4thirdparty(ref callbackstru callback);..public class callbackstru.{.    public ushort type; //type of callback.    public object func; //callback function.}...when calling the routine in blank:..callbackstru cb = new callbackstru();.appinquiryind appinquiryind = appinquiryind;.cb.type = 0x04;.cb.func = appinquiryind;.registercallback4thirdparty(ref cb);...where appinquiryind is this delegate:..public delegate void appinquiryind(uint32 devicehandle);...it fails at registercallback4thirdparty(ref cb);..am i simply overlooking something?..cheers."
