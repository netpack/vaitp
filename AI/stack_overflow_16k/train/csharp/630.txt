"how to emit source code creating proxy methods? let's say i have some source code in string e.g...string source = .           ""var watch = new system.diagnostics.stopwatch();.            var stack = new stack&lt;string&gt;();.            var list = new list&lt;string&gt;() { };.            watch.start();"";.source = emit(source);...i want the emitted source to be something like ..                var watch = a();.                var stack = b();.                var list = c();.                d(watch);..system.diagnostics.stopwatch a() .{.     return new system.diagnostics.stopwatch();.}.stack&lt;string&gt; b() .{.     return new stack&lt;string&gt;();.}.list&lt;string&gt; c() .{.     return new list&lt;string&gt;();.}.void d(system.diagnostics.stopwatch a) .{.     a.start();.}...this is implemented in some obfuscators, and if i remember is called proxy methods or something, it is the exact opposite of inlining. what would be the correct way to implement this? expressions trees? roslyn or system.codedom or some other library?"
