"reading linked files i have written a blank app for a makefile. the app crawls through the files in a folder and read them one by one to get the include files. but it doesnot reports all the files. the app is:..import blank.io.bufferedreader;.import blank.io.bufferedwriter;.import blank.io.file;.import blank.io.filenotfoundexception;.import blank.io.filereader;.import blank.io.filewriter;.import blank.io.ioexception;.import blank.util.scanner;...public class testcrawler {../**. * @param args. */..static string path = ""c:\app_eclipse\testcrawler\test"";.static scanner sc;.static filereader fr;.static bufferedreader br;.static filewriter fw;.static bufferedwriter bw;.static string make = ""makefile"";.static string line;..public static void main(string[] args) throws ioexception {.    // todo auto-generated method stub.    file f = new file(path);.    foldercrawler(f);.}..static public void foldercrawler(file f) throws ioexception{.    file[] files = f.listfiles();.    string name;.    string[] names;..    fw = new filewriter(make);.    bw = new bufferedwriter(fw);.    for(file afile:files){.        name = afile.getname().tolowercase();.        names = name.split(""\."");.        bw.write(names[0] + "".o : "" + name);.        if ((name.endswith("".c"") || (name.endswith("".h"")))){.            try{.                fr = new filereader(path + ""\"" + name);.                br = new bufferedreader(new filereader(path +     ""\""      + name));.                while((line=br.readline()) != null){.                    line = line.trim();.                    if (line.contains(""#include"") &amp;&amp;    line.contains("""""")){.                        line = line.replace(""#include"", """");.                        line = line.replace("""""", """");.                        line = line.trim();.                        system.out.println(""line : "" + line);.                        bw.write("" "" + line + "" "");.                        makemakefile(line);.                    }.                }..            }.            catch(exception e){.                system.out.println(e.getmessage());.            }.            bw.write(""n"");.        }.    }.    br.close();.    bw.close();.}..static public void makemakefile(string name) throws exception{..    br = new bufferedreader(new filereader(path + ""\"" + name));.    while((line=br.readline()) != null){.        if (line.contains(""#include"") &amp;&amp; line.contains("""""")){.            line = line.replace(""#include"", """");.            line = line.replace("""""", """");.            line = line.trim();.            system.out.println(""line : "" + line);.        bw.write("" "" + line + "" "");.            makemakefile(line);.        }.    }       .}..}...the files that are read:.test.c containing :..#include ""test.h"".#include ""test_1.h""...test.h containing :..#include ""test_2.h"".#include ""test_3.h""...and the files test_1.h, test_2.h and test_3.h (these files contain nothing)...the make file should be :..test.o : test.c test.h test_1.h.test.o : test.h test_2.h test_3.h.test_1.o : test_1.h.test_2.o : test_2.h.test_3.o : test_3.h...but is :..test.o : test.c test.h.test.o : test.h test_2.h.test_1.o : test_1.h.test_2.o : test_2.h.test_3.o : test_3.h...i know where the error comes from : line=br.readline() become null when return from makemakefile and i can not read the net line in file...how can to avoid this ?..thanks a lot..eb"
