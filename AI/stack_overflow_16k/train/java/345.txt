"game flashing to fullscreen when the windowed fuction is called i am having an issue getting my fullscreen/windowed function to work. currently my main menu works including the fullscreen/windowed functions. however in my game class it will not work correctly, when going to windowed mode it will just flash into fullscreen mode. i have tried the same code that is in my menu class but it is not working like the main menu does. the problem lies within the game class under windowbuttonhandler. i have ran out of ideas on what could possibly be wrong. here is all the code for all the classes i have, a total of 4. if you want to reproduce the problem click on ""start game..."" press ""p"" on keyboard and click on ""windowed mode...""...game(one that causes the issue)../**. * write a description of class game here.. * . * @author (your name) . * @version (a version number or a date). */.import blankx.swing.*;.import blank.awt.*;.import blank.awt.image.*;.import blank.awt.event.*;.import blank.net.*;.import blank.io.*;.import blankx.imageio.*;..public class game extends jpanel.{.public static final int width = 800;.public static final int height = 600;..private exitbuttonhandler ebhandler;.private windowbuttonhandler wbhandler;.private fullbuttonhandler fbhandler;..public int i = 0;.jframe frame = new jframe(""until the end: the fallen souls"");.jframe frame1 = new jframe(""until the end: the fallen souls"");..public static keylistener listen;..public game().{.    initgame();.    sound.music(""music/background.wav"");.}..public void initgame ().{.    jlabel background = new jlabel();.    imageicon image = new imageicon(""images/char.gif"");...    listen = new keylistener().    {.        jpanel panel = new jpanel();.        jbutton window = new jbutton(""windowed mode..."");.        jbutton full = new jbutton(""fullscreen..."");.        jbutton exit = new jbutton(""exit..."");.        @override.        public void keypressed(keyevent e).        {.            ebhandler = new exitbuttonhandler();..            fbhandler = new fullbuttonhandler();.            full.addactionlistener(fbhandler);..            wbhandler = new windowbuttonhandler();.            window.addactionlistener(wbhandler);..            exit.addactionlistener(ebhandler);.            int key = e.getkeycode();.            if(key == keyevent.vk_p).            {.                int i = 1;.                while(i != 2).                {..                    panel.setlayout(new gridbaglayout());.                    //exit.setvisible(true);.                    panel.add(full);.                    panel.add(window);.                    panel.add(exit);.                    panel.setopaque(false);.                    add(panel);.                    revalidate();.                    repaint();.                    //sound.stop();.                    i++;.                }.            }.        }..        @override.        public void keyreleased(keyevent e).        {.            int key = e.getkeycode();.            if(key == keyevent.vk_escape).            {.                //sound.music(""music/background.wav"");.                remove(panel);.                revalidate();.                repaint();.            }.        }..        @override.        public void keytyped(keyevent e).        {.            int key = e.getkeycode();.        }.    };.    repaint();.    revalidate();..    background.seticon(image);.    //menu.frame.setfocusable(true);.    //menu.frame.requestfocus();.    //menu.frame.addkeylistener(listen);.    //frame.addkeylistener(listen);.    add(background);.    //setbackground(color.green);.}..public void pause().{...    system.out.println(""test"");.}..public class windowbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        menu.frame.dispose();.        //fullbuttonhandler.frame.dispose();.        //menu.frame.setcontentpane(menu.background);..        if(i == 0).        {.            menu.frame.setsize(width, height);.            menu.frame.add(new game());...            menu.frame.setlocationrelativeto(null);.            menu.frame.addkeylistener(listen);.            menu.frame.requestfocusinwindow();.            menu.frame.setfocusable(true);.            menu.frame.requestfocus();.            menu.frame.setundecorated(true);.            menu.frame.setvisible(true);.            ++i;.        }     .        i = 0;.    }.}..public class fullbuttonhandler implements actionlistener.{.    public jframe frame = new jframe(""until the end: the fallen souls"");.    public void actionperformed(actionevent e).    {.        menu.frame.dispose();...        //frame.setcontentpane(menu.background);.        if(i == 0).        {.            menu.frame.add(new game());..            menu.frame.setextendedstate(jframe.maximized_both);.            menu.frame.addkeylistener(listen);.            menu.frame.requestfocusinwindow();.            menu.frame.setfocusable(true);.            menu.frame.requestfocus();.            menu.frame.setundecorated(true);.            menu.frame.setvisible(true);.            ++i;.        }          .        i = 0;.    }.}..public void closewindow(string frame).{.    if(frame.equals(""frame1"")).    {.        frame1.setvisible(false);.        frame1.dispose();.        frame.setvisible(false);.        frame.dispose();.    }.    if(frame1.equals(""frame"")).    {.        frame.setvisible(false);.        frame.dispose();.        frame1.setvisible(false);.        frame1.dispose();.    }.}..public class exitbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        system.exit(0);.    }.}..}...menu../**. * write a description of class main here.. * . * @author (your name) . * @version (a version number or a date). */..import blankx.swing.*;.import blank.awt.*;.import blank.awt.event.*;.import blank.io.*;.import blank.util.*;.public class menu.{.private static final int width = 800;.private static final int height = 600;..jbutton start, exit, option;..jpanel panel, pane;.public static jframe frame;.jlabel background;..random rand = new random();..int background = rand.nextint(10) + 1;..private exitbuttonhandler ebhandler;.private startbuttonhandler sbhandler;.private optionbuttonhandler obhandler;.private backbuttonhandler bbhandler;.private windowbuttonhandler wbhandler;.private fullbuttonhandler fbhandler;.public menu().{.    frame = new jframe(""until the end: the fallen souls"");.    sound.music(""music/theme.wav"");..    generate.image(background);.    imageicon image = new imageicon(getclass().getresource(generate.getimage()));..    start = new jbutton(""start game..."");.    option = new jbutton(""options..."");.    exit = new jbutton(""exit game..."");..    background = new jlabel();.    background.seticon(image);.    background.setlayout(new borderlayout());..    panel = new jpanel();.    panel.setlayout(new gridbaglayout());..    panel.setopaque(false);..    sbhandler = new startbuttonhandler();.    obhandler = new optionbuttonhandler();.    ebhandler = new exitbuttonhandler();..    start.addactionlistener(sbhandler);.    option.addactionlistener(obhandler);.    exit.addactionlistener(ebhandler);..    panel.add(start);.    panel.add(box.createrigidarea(new dimension(150, 0)));..    panel.add(option);.    panel.add(box.createrigidarea(new dimension(150, 0)));..    frame.setcontentpane(background);.    panel.add(exit);..    frame.add(panel);..    frame.setextendedstate(jframe.maximized_both);..    frame.setundecorated(true);.    frame.setvisible(true);.    frame.requestfocusinwindow();.    frame.setdefaultcloseoperation(jframe.exit_on_close);.}..public class startbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        frame.remove(panel);..        //game.game();.        sound.stop();..        frame.add(new game());.        frame.revalidate();.        frame.repaint();.        frame.setfocusable(true);.        frame.requestfocus();.        frame.addkeylistener(game.listen);.    }.}..public class optionbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        generate.image(background);.        imageicon image = new imageicon(getclass().getresource(generate.getimage()));..         background = new jlabel();.         background.seticon(image);.         background.setlayout(new borderlayout());..        frame.remove(panel);.        frame.revalidate();.        frame.repaint();.        pane = new jpanel();.        pane.setlayout(new gridbaglayout());.        jbutton back = new jbutton(""back to menu..."");.        jbutton window = new jbutton(""windowed mode..."");.        jbutton full = new jbutton(""fullscreen..."");..        bbhandler = new backbuttonhandler();.        back.addactionlistener(bbhandler);..        wbhandler = new windowbuttonhandler();.        window.addactionlistener(wbhandler);..        fbhandler = new fullbuttonhandler();.        full.addactionlistener(fbhandler);..        pane.setopaque(false);.        pane.add(window);.        pane.add(box.createrigidarea(new dimension(150, 0)));.        pane.add(full);.        pane.add(box.createrigidarea(new dimension(150, 0)));.        pane.add(back);.        //frame.setcontentpane(background);.        frame.add(pane);.        frame.revalidate();.        frame.repaint();.    }.}..public class backbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        frame.remove(pane);.        frame.revalidate();.        frame.repaint();....        frame.add(panel);.        frame.revalidate();.        frame.repaint();.    }.}..public class windowbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        frame.dispose();.        frame = new jframe(""until the end: the fallen souls"");.        frame.setcontentpane(background);.        frame.add(pane);.        frame.setundecorated(false);.        frame.setsize(width, height);.        frame.setvisible(true);.        frame.setlocationrelativeto(null);.    }.}..public class fullbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        frame.dispose();.        frame = new jframe(""until the end: the fallen souls"");.        frame.setcontentpane(background);.        frame.add(pane);..        frame.setextendedstate(jframe.maximized_both);..        frame.setundecorated(true);.        frame.setvisible(true);..    }.}..public class exitbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        system.exit(0);.    }.}..public static void main(string args[]).{.    menu menu = new menu();.}.}...audio class../**.* write a description of class music here..* .* @author (your name) .* @version (a version number or a date).*/.import sun.audio.*;.import blank.io.*;.public class sound.{.static audioplayer play = audioplayer.player;.static audiostream stream;.static audiodata data;.static continuousaudiodatastream loop;.public static void music(string file).{..     //loops audio..    try.    {.        stream = new audiostream(new fileinputstream(file)); //loads audio file.        data = stream.getdata(); //gets data from the audiostream.        loop = new continuousaudiodatastream(data); //loops audio.    }.    catch(ioexception e).    {..    }.    play.start(loop);//plays music.}..public static void stop().{.    play.stop(loop);.}.}...soon to be procedural generation code../**.* write a description of class random here..* .* @author (your name) .* @version (a version number or a date).*/.import blank.util.*;.import blank.io.*;.public class generate.{.public static string images;.public static string image;.public static void image(int number).{.    switch(number).    {.        case 1:.            setimage(""images/01.jpg"");.            break;.        case 2:.            setimage(""images/02.jpg"");.            break;.        case 3:.            setimage(""images/03.jpg"");.            break;.        case 4:.            setimage(""images/04.jpg"");.            break;.        case 5:.            setimage(""images/05.jpg"");.            break;.        case 6:.            setimage(""images/06.jpg"");.            break;.        case 7:.            setimage(""images/07.jpg"");.            break;.        case 8:.            setimage(""images/08.jpg"");.            break;.        case 9:.            setimage(""images/09.jpg"");.            break;.        case 10:.            setimage(""images/10.jpg"");.            break;.        default:.            system.out.println(""invalid number"");.    }.}..public static void setimage(string images).{.    image = images;.}..public static string getimage().{.    return image;.}.}...edit/solved:../**.* write a description of class game here..* .* @author (your name) .* @version (a version number or a date).*/.import blankx.swing.*;.import blank.awt.*;.import blank.awt.image.*;.import blank.awt.event.*;.import blank.net.*;.import blank.io.*;.import blankx.imageio.*;..public class game extends jpanel.{.public static final int width = 800;.public static final int height = 600;..private exitbuttonhandler ebhandler;.private windowbuttonhandler wbhandler;.private fullbuttonhandler fbhandler;..public int i = 0;.jframe frame = new jframe(""until the end: the fallen souls"");.jframe frame1 = new jframe(""until the end: the fallen souls"");..public static keylistener listen;..public game().{.    initgame();.    sound.music(""music/background.wav"");.}..public void initgame ().{.    jlabel background = new jlabel();.    imageicon image = new imageicon(""images/char.gif"");...    listen = new keylistener().    {.        jpanel panel = new jpanel();.        jbutton window = new jbutton(""windowed mode..."");.        jbutton full = new jbutton(""fullscreen..."");.        jbutton exit = new jbutton(""exit..."");.        @override.        public void keypressed(keyevent e).        {.            ebhandler = new exitbuttonhandler();..            fbhandler = new fullbuttonhandler();.            full.addactionlistener(fbhandler);..            wbhandler = new windowbuttonhandler();.            window.addactionlistener(wbhandler);..            exit.addactionlistener(ebhandler);.            int key = e.getkeycode();.            if(key == keyevent.vk_p).            {.                int i = 1;.                while(i != 2).                {..                    panel.setlayout(new gridbaglayout());.                    removeall();.                    panel.remove(full);.                    panel.remove(window);.                    panel.remove(exit);.                    //exit.setvisible(true);..                    panel.setopaque(false);.                    add(panel);.                    revalidate();.                    repaint();.                    //sound.stop();.                    ++i;.                    i = 1;.                    if(i == 1).                    {.                        panel.add(full);.                        panel.add(window);.                        panel.add(exit);.                        repaint();.                        revalidate();.                        ++i;.                    }.                    i = 1;.                }.            }.        }..        @override.        public void keyreleased(keyevent e).        {.            int key = e.getkeycode();.            if(key == keyevent.vk_escape).            {.                //sound.music(""music/background.wav"");.                remove(panel);.                if(i == 1).                {.                    add(new game());.                    revalidate();.                    repaint();.                    ++i;.                }..                panel.remove(full);.                panel.remove(window);.                panel.remove(exit);.                revalidate();.                repaint();.            }.        }..        @override.        public void keytyped(keyevent e).        {.            int key = e.getkeycode();.        }.    };.    repaint();.    revalidate();..    background.seticon(image);.    //menu.frame.setfocusable(true);.    //menu.frame.requestfocus();.    //menu.frame.addkeylistener(listen);.    //frame.addkeylistener(listen);.    add(background);.    //setbackground(color.green);.}..public void pause().{...    system.out.println(""test"");.}..public class windowbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        menu.frame.dispose();.        //fullbuttonhandler.frame.dispose();.        //menu.frame.setcontentpane(menu.background);..        if(i == 0).        {..            menu.frame.add(new game());.            menu.frame.setlocationrelativeto(null);.            menu.frame.setextendedstate(jframe.normal);..            menu.frame.addkeylistener(listen);.            menu.frame.requestfocusinwindow();.            menu.frame.setfocusable(true);.            menu.frame.requestfocus();.            menu.frame.setundecorated(false);.            menu.frame.setsize(new dimension(800, 600));.            menu.frame.setvisible(true);..            ++i;.        }     ..        i = 0;.    }.}..public class fullbuttonhandler implements actionlistener.{.    public jframe frame = new jframe(""until the end: the fallen souls"");.    public void actionperformed(actionevent e).    {.        menu.frame.dispose();...        //frame.setcontentpane(menu.background);.        if(i == 0).        {.            menu.frame.add(new game());..            menu.frame.setextendedstate(jframe.maximized_both);.            menu.frame.addkeylistener(listen);.            menu.frame.requestfocusinwindow();.            menu.frame.setfocusable(true);.            menu.frame.requestfocus();.            menu.frame.setundecorated(true);.            menu.frame.setvisible(true);.            ++i;.        }          .        i = 0;.    }.}..public void closewindow(string frame).{.    if(frame.equals(""frame1"")).    {.        frame1.setvisible(false);.        frame1.dispose();.        frame.setvisible(false);.        frame.dispose();.    }.    if(frame1.equals(""frame"")).    {.        frame.setvisible(false);.        frame.dispose();.        frame1.setvisible(false);.        frame1.dispose();.    }.}..public class exitbuttonhandler implements actionlistener.{.    public void actionperformed(actionevent e).    {.        system.exit(0);.    }.}..}"
