"blank -- getting value of variable in another controller scope method working with the google maps api (geolocation)..here is the code in question...    var lat;.    var lng;.    var movelat;.    var movelng;.    var movemarker;.    var marker;..    $scope.initmap = () =&gt; {..        // todo:privilege check!..        var checkprivilege = false;..        console.log(""clicked generate map pin"");..        var x = document.getelementbyid(""demo"");..        if (navigator.geolocation) {..            navigator.geolocation.getcurrentposition(function (position) {..                lat = parsefloat(position.coords.latitude);.                lng = parsefloat(position.coords.longitude);.                console.log(""lat "" + lat + "" lng "" + lng);..                // the location of current user.                var cmu_sv = {lat: parsefloat(lat), lng: parsefloat(lng)};..                // the map, centered at current user.                var map = new google.maps.map(.                    document.getelementbyid('map'), {zoom: 4, center: cmu_sv});..                map.setoptions({ minzoom: 15, maxzoom: 20 });..                // true for admin user.                if (checkprivilege) {..                    // the marker, positioned at current user's position.                    movemarker = new google.maps.marker({position: cmu_sv, flat: false, map: map, draggable: true});.                }.                // false for regular user.                else {..                    //var movemarker = new google.maps.marker({position: cmu_sv, flat: false, map: map, draggable: true});.                    marker = new google.maps.marker({position: cmu_sv, map: map});.                }.            });.        } else {.            x.innerhtml = ""geolocation is not supported by this browser."";.        }.    };..    $scope.sendlocationinfo = () =&gt; {..        var checkprivilege = false;..        if (checkprivilege) {..            movelat = parsefloat(movemarker.getposition().lat);.            movelng = parsefloat(movemarker.getposition().lng);..            console.log(movelat, movelng);.            $scope.locationinfo = movelat + "","" + movelng;.            $scope.haslocationinfo = true;.        }.        else {..            lat = parsefloat(marker.getposition().lat);.            lng = parsefloat(marker.getposition().lat);..            console.log(lat, lng);.            $scope.locationinfo = lat + "","" + lng;.            $scope.haslocationinfo = true;.        }..        var currentuser = $cookies.get('username');..        $scope.message = currentuser + "" has shared their location!"";..        client.sendlocationinfo(currentuser, $scope.locationinfo, $scope.haslocationinfo).            .then(() =&gt; {.                $scope.locationinfo = """";.            });..        client.sendpublicwallmessage($scope.message).            .then(() =&gt; {.                $scope.message = '';.            }).    };...as you can see, i initialize 6 var's at the beginning -- outside of initmap and sendlocationinfo...there are also two map markers (movemarker and marker). the movemarker can be moved by the admin user if so desired...in the second function, i am trying to call each map marker to get the latitude and longitude information -- assign them to their respective variables and then save these coordinates in my db...however, for console.log(movelat, movelng) and console.log(lat, lng) -- i am getting two nan values instead of the desired coordinates. ..any way to fix this?"
