"blank onreadystatechange function call priority i have the following blank code, the problem is that first executed the function getbestmovies4bestpcrating(); and after the amovies.foreach(function(item) {..any idea?..document.getelementbyid('sendmovies').addeventlistener('click', function() {.    var movieids = document.getelementbyid('movieids').value;.    var data = {};.    var amovies = {};.    var movies = {};..    data[""movielist""] = '[' + movieids + ']';..    params = json.stringify(data);..    var http = new xmlhttprequest();..    var url = ""http://............."".    http.open(""post"", url, true);..    //send the proper header information along with the request.    http.setrequestheader(""content-type"", ""application/json"");..    http.onreadystatechange = function() { //call a function when the state changes..        if (http.readystate == 4 &amp;&amp; http.status == 200) {.            movies = http.responsetext;.            amovies = json.parse(movies);..            amovies.foreach(function(item) {.                if (item.rating &gt; 4) {.                    getentitiesratings(item.ratingspk.userid, 0);.                }.            });.            getbestmovies4bestpcrating();.            convertmovies2table(bestmovies);.        }.    }.    http.send(params);..});..function getentitiesratings(userid, kind) {..    var xmlhttp = new xmlhttprequest();.    var url = "" http://.............entities.ratings/"" + userid;..    xmlhttp.onreadystatechange = function() {.        if (this.readystate == 4 &amp;&amp; this.status == 200) {.            var myarr = json.parse(this.responsetext);.            if (kind == 0) {.                computeusercolleration(myarr, userid);.            }.            if (kind == 1) {.                bestusermovies(myarr, userid);.            }.        }.    };.    xmlhttp.open(""get"", url, true);.    xmlhttp.send();..}"
