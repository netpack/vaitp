"passing query string to external js script people come to my site with the clickbank hoplink query string (?hop=xxxxx) this needs to be sent to a script on my server so it can be converted to ""letter-letter-number-number"" (a reference code to original xxxxx username)..the way i'm doing this at present it is:...use one script to read the query string .use another src to send that to my server, which sets a cookie, (and returns a value) .(another replace script to change all old_reference_codes to the.    new reference code)...** the parts in brackets haven't been attempted yet!!..now, to keep things neat, i want to place these routines in an external .js file ... but i have found that in doing this, the script cannot see the search string. (works ok if in main html)..here's what i've got thus far:..var page=location.search.substring(5);.document.write('&lt;img width=""0px"" height=""0px"" src=""/cgi-bin/dbase/conv_hop.pl?'+page+'""&gt;');.//document.body.innerhtml = document.body.innerhtml.replace(/aa00/g, ""new_ref_code"");...the part behind comments hasn't been tried yet. it will (hopefully) replace all instances of ""aa00"" on html page with say new ref code of ""bc98"". as is, the conv_hop.pl was simply used to create a cookie on the server, but has now got to return a value to be used in the next part, maybe something like..var new_ref_code.src=""/cgi-bin/dbase/conv_hop.pl?'+page (complete guess here)...so what's the question?..is there a way to pass the query string to the external js file? and what method should i use to get the data sent back via conv_hop.pl so it's value is usable by the commented part"
