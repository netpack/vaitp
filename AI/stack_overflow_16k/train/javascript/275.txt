"detecting end of a loop inside async code that's inside of another function inside this loop so i have this code:..  for (let i = 0; i &lt; array.length; i++) {.    let url = array[i];.    ytdl.getinfo(url, function(err, info) {.      if (err) {.        message.channel.send(""there was an error while checking information about a video, try again soon."");.        throw err;.      }.      songembed.addfield(""title:"", info.title);.      if (i == array.length - 1) message.channel.send(songembed);.    });.  }...and the problem is that the function inside ytdl.getinfo() is called after the for loop has ended, but i need to call message.channel.send(songembed) only after the last iterate (see code), i tried my best to solve this by myself, using array.foreach() for example, but i cant figure out how to pass the right element index to this function inside ytdl.getinfo() i hope you understand me."
