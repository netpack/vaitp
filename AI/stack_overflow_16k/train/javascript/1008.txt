"how to receive files in blank sent from flask using send_file() i am developing a web application using html + plain blank in the frontend, and flask as backend. the application sends some id to the server, the server should generate a report as pdf file and send it back to the client...i am using flask for the backend and i have created the following endpoint: ..    @app.route(""/download_pdf"", methods=['post']).    def download_pdf():.        if request.method == 'post':.            report_id = request.form['reportid'].            print(report_id) //testing purposes..            // do some stuff with report_id and generate a pdf file..            return send_file('/home/user/report.pdf', mimetype='application/pdf', as_attachment=true).// i already tried different values for mimetype and as_attachment=false...from the command line i can test the endpoint and i get the right file, and the server console prints the 123 report_id as expected:..curl --form reportid=123 http://localhost:5000/download_pdf &gt;&gt; output.pdf...for the frontend side i created a button that calls a blank function: ..&lt;button id=pdf_button onclick=""generatepdf()""&gt; pdf &lt;/button&gt;...the blank function looks like this:..function generatepdf(){.    var report_list = document.getelementbyid(""report_list"")..    if (report_list.selectedindex &lt; 0){.        alert(""please, select a report."");.    }else{.        var req = new xmlhttprequest();..        req.open(""post"", ""/download_pdf"", true);.        req.responsetype = ""document"";.        req.setrequestheader(""content-type"", ""application/x-www-form-urlencoded"");.        req.onreadystatechange = function(){.            console.log(req.readystate).            console.log(req.status).            console.log(req.response).            var link = document.createelement('a').            link.href = req.response;.            link.download=""report.pdf"".            link.click()..        }.        var selected_value = report_list.options[report_list.selectedindex].value;.        var params=""reportid=""+selected_value;.        req.send(params);.    }..};...req.response is null in this case. however, the call to the endpoint has been done correctly, as the backend console prints the report_id as expected...already tried:...using ""blob"" and ""arraybuffer"" as responsetype as in https://developer.mozilla.org/en-us/docs/web/api/xmlhttprequest/sending_and_receiving_binary_data#receiving_binary_data_using_blank_typed_arrays.checking for the http return code, which is always 0..calling req.onload instead of req.onreadystatechange. the console shows nothing....lastly, the firefox console shows these 6 messages after pressing the related button (please, observe the console.log() calls in the previous code):..2.0.null.4.0.null...it seems that the blank function has been called twice when the button is pressed...my goal is to get the pdf downloaded. i don't know if what am i doing wrong; i'd thank any help on this."
