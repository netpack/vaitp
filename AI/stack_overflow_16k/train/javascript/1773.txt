"how can i execute a js function from the top of the stack? i'd like to execute a function from the top of the stack.  that is, any variables defined with ""var"" should be defined in the global sense.  is this possible?  fn.call(window) doesn't work...&lt;script&gt;.  var foo = ""i am top level foo."";..  var fn = function(){.    var foo = ""setting foo from in a function"";.  }..  fn.call(window);  //doesn't work, var is still set locally in fn..  alert(foo);  //desired effect will alert ""setting foo from in a function"".&lt;/script&gt;...please note:  i am fully aware that not specifying ""var"" makes an item a global variable.  the problem is that i can not specify the contents of ""fn"", it is user-defined, but expected to be run from the top level...i'm willing to use eval if necessary."
