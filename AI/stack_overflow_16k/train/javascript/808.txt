"university project : settimeout problems i'm studying informatic engineering at pisa, in italy, and one of my exams consists into creating a web service. my choice was a little game coded in blank. there is a flash based game called "" hobo "" that it's similar to mine. my problem is :..i have to create a function that restore the idle animation of the enemies. i need that this function it's called inside another function ( attack  function ). the restore_idle_gif function set a settimeout that after 800ms restores the original animation but i get the following trouble : it there is more than 1 enemy, that function restores the animation of the last enemy that attacks...the code is :..function enemy_class ( ..... ).{.    // variables..    // methods.    this.attack_method = attack_fun ;.    this.move_method   = move_fun   ;..    // movement timer and attack cooldown ( they works as i wanted ).    this.move_timer=setinterval(this.move_enemy.bind(this),( 1000/this.movement_speed));.    this.attack_timer=setinterval(this.attack_enemy.bind(this),( 1000/this.attack_speed));.}..function attack_fun().{.   // some stuff that we don't need for my problem.   if ( chance_of_attack == true ).   {.      nemico = document.getelementbyid( this.get_enemy_id() );.      nemico.setattribute( ""src"", ""media/images/enemy_attack.gif"" ) ;.      damage_hero ( this ) ;.      restore_idle_gif( this ) ;.   }.}..function damage_hero( that ) .{.   // works.}...and finally the evil function that it's mindblowing me :..function restore_idle_gif( nemico_che_attacca ).{.      var restore_timer = settimeout ( function() { var restore = document.getelementbyid( nemico_che_attacca.get_enemy_id() ) ; restore.setattribute ( ""src"", ""media/images/enemy.gif"" ) ; } , 800 ) ;..}...the rest of the code works fine, except this ""glitch"". i really need it to work because i need to create the code for all the remaining animations. please help me with that code or give me ideas / alternative solutions. sorry for my bad english and for bad formatting text, it's my first time in stackoverflow."
