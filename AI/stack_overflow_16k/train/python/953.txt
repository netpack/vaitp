"getting a pdf file from a website and writing to disk i have some code reading a url and writing to disk. here it is - ..    url = 'http://www.cs.purdue.edu/homes/ninghui/courses/spring06/lectures/lecture05.pdf'.    ret = requests.get(url).    print ret.headers.    print ret.headers['content-encoding'].    print ret.headers['content-type']..    pathtowrite = 'tmp/test.pdf'..    try:.        fd = os.open(pathtowrite, os.o_rdwr | os.o_creat)..        try:.            os.write(fd, ret.text).        except exception as e:.            print 'cannot write to file ' + pathtowrite.            raise..        try:.            os.close(fd).        except:.            print 'cannot close file ' + pathtowrite.            raise..    except:.        print 'file cannot be opened ' + pathtowrite.        raise...with the above code i can get and write a pdf file to disk i get the following error - ..unicodeencodeerror: 'charmap' codec can't encode characters in position 12-13: character maps to &lt;undefined&gt;...i get the same error when i use the following api - ..f = open(pathtowwrite, 'wb').f.write(ret.text)...i feel like i am missing something obvious. this seems too straightforward to go wrong."
